/*! xiyueta v1.3.8 | Author xiyueta Adream http://xiyueta.com/ | Released under the MIT license  */
var _XIYUETAASP=function(t){"use strict";this.aspSource=t=null==t?"":t,this.aspArr=[],this.common=new XiyuetaCommon,this.config={},this.phpPublicObjectList="",this.phpPublicFunList=",now,date,time,",this.aspParse=function(t){null!=t&&(this.aspSource=t,this.aspArr=[]);for(var e="",i="",s="",r="",l="",n="",a=!1,o=!1,h=0,u="",f=0,c=(this.aspSource=this.aspSource.replace(/\t/g,"  "),this.aspSource.split("\n")),m=0;m<=c.length-1;m++){for(var d,p,g,b,x=0;x<=c[m].length;x++)if(p=e,e=c[m].substr(x,1),i=c[m].substr(x+1,1),b=c[m].substr(x+1,2),0==a)"%"==e&&"<"==p?(a=!0,this.aspArr.push({lv:h,type:"<asp>",label:"<%",upHtml:n.substr(0,n.length-1),downHtml:"",html:"<%",tagpair:2}),s=n=l="",h++):n+=e;else if("%"==e&&">"==i)a=!1,h--,this.aspArr.push({lv:h,type:"<asp>",label:"%>",upHtml:n,downHtml:"",html:"%>",tagpair:2}),s=n=l="",x++,e=c[m].substr(x,1),i=c[m].substr(x+1,1);else if(l+=e,'"'==e||""!=u)'"'==e&&f++,f%2==0&&'"'!=i?(u+=e,this.aspArr.push({lv:h,type:"<str>",label:s,upHtml:n,downHtml:"",html:u,tagpair:2}),f=0,s=n=l=u=""):u+=e;else if("("==e)h++,this.aspArr.push({lv:h,type:"<(>",label:e,upHtml:n,downHtml:"",html:l,tagpair:2}),s=n=l="";else if(")"==e)this.aspArr.push({lv:h,type:"<)>",label:e,upHtml:n,downHtml:"",html:l,tagpair:2}),s=n=l="",h--;else if(-1!="|&|,|+|-|*|/|=|:|>|<|".indexOf("|"+e+"|"))this.aspArr.push({lv:h,type:"<fuhao>",label:e,upHtml:n,downHtml:"",html:l,tagpair:1}),"="!=e&&">"!=e||">"!=(g=this.aspArr[this.aspArr.length-2]).label&&"<"!=g.label||(g.label+=e,g.html+=" "+e,this.aspArr.pop()),s=n=l="";else{if("'"==e){this.aspArr.push({lv:h,type:"<note>",label:e,upHtml:l,downHtml:"",html:c[m].substr(x+1),tagpair:1}),s=n=l="";break}""==e||" "==e||"\t"==e||-1=="' ()+-*/=><&,:".indexOf(i)&&x!=c[m].length&&"%>"!=b?" "!=e&&"\t"!=e&&(s+=e.toLowerCase()):(s+=e.toLowerCase(),r=-1!="0123456789".indexOf(s.substr(0,1))?"<int>":"("==i||-1!=",xor,randomize,not,strcomp,vbtextcompare,step,dim,if,then,elseif,else,end,function,sub,select,case,call,for,to,next,set,nothing,do,while,loop,and,true,false,vbcrlf,in,class,new,mod,byval,byref,or,exit,rnd,lcase,ucse,asc,".indexOf(","+s+",")||-1!=s.indexOf(".")?"<fun>":"<var>",this.aspArr.push({lv:h,type:r,label:s,upHtml:n,downHtml:"",html:l,tagpair:2}),"function"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(h--,d.lv--,d.label+="function",d.html+=" function",this.aspArr.pop()):"exit"==d.label?(d.label+="function",d.html+=" function",this.aspArr.pop()):h++:"sub"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(h--,d.lv--,d.label+="sub",d.html+=" sub",this.aspArr.pop()):"exit"==d.label?(d.label+="sub",d.html+=" sub",this.aspArr.pop()):h++:"if"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(h--,d.lv--,d.label+="if",d.html+=" if",this.aspArr.pop()):h++:"else"==s||"elseif"==s||"then"==s?(this.aspArr[this.aspArr.length-1].lv--,"else"==s&&"case"==(d=this.aspArr[this.aspArr.length-2]).label&&(d.lv,d.label+="else",d.html+=" else",this.aspArr.pop())):"select"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(h--,d.lv--,d.label+="select",d.html+=" select",this.aspArr.pop(),o&&(o=!1,h--,d.lv--)):h++:"case"==s?"select"==(g=this.aspArr[this.aspArr.length-2]).label?(g.label+="case",g.html+=" case",this.aspArr.pop()):o?this.aspArr[this.aspArr.length-1].lv--:(h++,o=!0):"class"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(h--,d.lv--,d.label+="class",d.html+=" class",this.aspArr.pop()):h++:"each"==s?"for"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="each",g.html+=" each",this.aspArr.pop()):"while"==s?("do"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="while",g.html+=" while",this.aspArr.pop()),h++):"do"==s?"exit"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="do",g.html+=" do",this.aspArr.pop()):"loop"==s?(h--,this.aspArr[this.aspArr.length-1].lv--):"for"==s?"exit"==(g=this.aspArr[this.aspArr.length-2]).label?(g.label+="for",g.html+=" for",this.aspArr.pop()):h++:"next"==s?(g=this.aspArr[this.aspArr.length-2],p=this.aspArr[this.aspArr.length-4],"resume"==g.label?(p.label+="errorresumenext",p.html+=" error resume next",this.aspArr.pop(),this.aspArr.pop(),this.aspArr.pop()):(h--,this.aspArr[this.aspArr.length-1].lv--)):"goto"==s&&(g=this.aspArr[this.aspArr.length-2],b=this.aspArr[this.aspArr.length-3],"error"==g.label)&&(b.label+="errorgoto",b.html+=" error goto",this.aspArr.pop(),this.aspArr.pop()),r=s=n=l="")}m+1<c.length&&(this.aspArr.push({lv:h,type:"<br>",label:"\n",upHtml:n,downHtml:"",html:"\n",tagpair:1}),n="")}""!=n&&this.aspArr.push({lv:h,type:"<html>",label:"",upHtml:n,downHtml:"",html:"",tagpair:1})},this.tophp=function(){for(var t,e,i="",s="",r=[],l=[],n=[],a=0,o=!1,h=!1,u=!1,f="",c="",m="++",d="",p=!1,g=-1,b=-1,x=!1,y=-1,v="",L=",",A=","+this.phpPublicFunList,w=","+this.phpPublicObjectList,_=-1,O=[],C=!0,T="",S="",H=",",D=!1,j=!1,I=!1,F=!1,k=0;k<this.aspArr.length;k++)C=!0,_==k&&(":"==(r=this.aspArr[k]).label?(s+=":",k++):s+=":",_=-1),0<k&&(l=this.aspArr[k-1]),r=this.aspArr[k],n={},k<this.aspArr.length-1&&(n=this.aspArr[k+1]),null!=O[r.lv]&&(s=O[r.lv]+"\n"+s,O[r.lv]=void 0),"<br>"==l.type&&(s+=this.common.copyStr("    ",r.lv+a)),1!=r.phpDel&&("<%"==r.label?(s+=r.upHtml+"<?",a--,"="!=n.label&&(s+="PHP","<br>"!=n.type)&&"<note>"!=n.type&&"<asp>"!=n.type&&(s+=" ")):"%>"==r.label?s+="?>":"<br>"==r.type?(h&&(s+="}",h=!1),s+=r.upHtml+"\n"):"<note>"==r.type?s+="//"+r.html:"<html>"==r.type?s+=r.upHtml+r.html:"<var>"==r.type?"onerrorresumenext"!=r.label&&("onerrorgoto"==r.label?s+="$"+r.label:(!u&&0!=D||""==T||(H+=r.label+","),-1!=A.indexOf(","+r.label+",")?"class"==l.label?(C=!1,s+=r.label+"{"):"new"==l.label?s+=r.label+"()":"="==n.label?(s+="return ",k++):(s+=r.label,"<(>"!=n.type&&(s+="()")):0==u&&-1==H.indexOf(","+r.label+",")&&D?s+="$GLOBALS['"+r.label+"']":(s+="$"+r.label,u&&(s+="=''")),0==j&&(s+=this.getAddFenHao(s,n,h)))):"<fuhao>"==r.type||"<int>"==r.type||"<(>"==r.type||"<)>"==r.type?o&&"="==r.label?s+="==":"&"==r.label?s+=".":"("==r.label?g==r.lv?s+="[":s+="(":")"==r.label?(g==r.lv?(s+="]","("!=n.label&&(g=-1)):y==r.lv?(i+=s+","+v+")",y=-1,v=s=""):b==r.lv?(b=-1,s+="){",""!=T&&(D=!0,"function"==S)&&(s+="\n"+this.common.copyStr("    ",r.lv+a-1)+"$"+T+"=''")):s+=")",0==j&&(s+=this.getAddFenHao(s,n,h))):","==r.label?p?(s+="]=",p=!1):y==r.lv?(v=s,s=""):u?(s+=";","<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(u=!1)):s+=",":":"==r.label?(";"!=s.substr(s.length-1)&&(s+=";"),u=!1):"<>"==r.label?s+="!=":"<int>"==r.type?(s+=r.label,-1!=_||"selectcase"==d||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(s+=";")):s+=r.label:"<str>"==r.type?s=(s+="'"+r.html.substr(1,r.html.length-2).replace(/""/g,'"').replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'")+this.getAddFenHao(s,n,h):"<fun>"==r.type&&("ucase"==r.label?s+="strtoupper":"lcase"==r.label?s+="strtolower":"date"==r.label?(s+="aspDate",this.aspArr.length>k+1&&"("!=this.aspArr[k+1].label&&(s+="()")):"time"==r.label?(s+="aspTime",this.aspArr.length>k+1&&"("!=this.aspArr[k+1].label&&(s+="()")):"randomize"==r.label?C=!1:"xor"==r.label?s+=" xor ":"rnd"==r.label?(s+="rnd",this.aspArr.length>k+1&&"("!=this.aspArr[k+1].label&&(s+="()")):"response.write"==r.label?s+="echo":"response.end"==r.label?s+="die":"request.querystring"==r.label?s+="querystring":"request.form"==r.label?s+="form":"request.servervariables"==r.label?s+="servervariables":"err.number"==r.label?s+="0":"err.clear"==r.label?s+="echo('');":"nothing"==r.label?s+="null":"step"==r.label?(s+=";",m="+="+n.label,n.phpDel=!0):"byref"==r.label?s+="&":"isnumeric"==r.label?s+="is_numeric":"strcomp"==r.label?s+="aspStrComp":"vbtextcompare"==r.label?s+="''":"chr"==r.label?s+="aspchr":"hex"==r.label?s+="dechex":"and"==r.label?s+=" && ":"or"==r.label?s+=" || ":"mod"==r.label?s+=" % ":"not"==r.label?s+="!":"exitfor"==r.label?s+="break":"ubound"==r.label?s+="count":"split"==r.label?(L+=this.aspArr[k-2].label+".add,",i+=s+="explode(",s="",y=r.lv+1,k++):"new"==r.label?s+="new ":"function"==r.label||"sub"==r.label?(b=this.aspArr[k+2].lv,s+="function ",-1==A.indexOf(","+n.label+",")&&(A+=n.label+","),T=n.label,S=r.label):"endfunction"==r.label||"endsub"==r.label?("endsub"==r.label?s+=this.common.copyStr("    ",r.lv)+"return '';\n}":s+=this.common.copyStr("    ",r.lv)+"return @$"+T+";\n}",S=T="",D=!(H=",")):"exitfunction"==r.label?s+="return ''":"if"==r.label?(s+=r.label+"(",o=!0):"elseif"==r.label?(s+="}else if(",o=!0):"then"==r.label?(s+="){","<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type&&(h=!0),o=!1):"else"==r.label?s+="}else{":"endif"==r.label?(s+="}",h=!1):"selectcase"==r.label?(s+="switch ","("!=n.label&&(s+="(",I=!0),j=!0,d="selectcase"):"endselect"==r.label?(I=!1,null!=O[r.lv+1]&&(s=O[r.lv+1]+"\n"+s,O[r.lv+1]=void 0),s+="}"):"caseelse"==r.label?(s+="default ",O[r.lv]=this.common.copyStr("    ",r.lv)+"break;",this.findTypeLocation(k,"<fuhao>",":"),_=_<(t=this.findTypeLocation(k,"<br>","\n"))?_:t,C=!1):"case"==r.label?(s+=r.label+" ",O[r.lv]=this.common.copyStr("    ",r.lv)+"break;",this.findTypeLocation(k,"<fuhao>",":"),_=_<(t=this.findTypeLocation(k,"<br>","\n"))?_:t):"vbcrlf"==r.label?s+='"\\n"':"createobject"==r.label?(0<k-1&&(L+=this.aspArr[k-2].label+".add,"),k+1<this.aspArr.length&&'"scripting.dictionary"'==this.aspArr[k+2].html.toLowerCase()&&(s+="array();",k+=3)):-1!=L.indexOf(","+r.label+",")?(-1!=r.label.indexOf(".")?s+="$"+r.label.substr(0,r.label.indexOf("."))+"[":(s+="$"+r.label,g=n.lv),","==this.aspArr[k+2].label&&(p=!0)):-1!=L.indexOf(","+r.label+".")?(s+="$"+r.label,g=n.lv):"do"==r.label?s+="for(;;) {":"exitdo"==r.label?s+="break":"dowhile"==r.label?(s+="while","("!=n.label&&(s+="("),x=!0):"loop"==r.label?s+="}":"class"==r.label?(s+="class ",-1==A.indexOf(","+n.label+",")&&(A+=n.label+","),-1==w.indexOf(","+n.label+",")&&(w+=n.label+","),F=!0):"endclass"==r.label?s+="}":"foreach"==r.label?(e=this.aspArr[k+1],s+="foreach($"+this.aspArr[k+3].label+" as $key=>$"+e.label+"){",k+=3):"for"==r.label?(s+=r.label,"("!=n.label&&(s+="("),f="for",c=n.label,m="++"):"for"==f&&"to"==r.label?(e=this.aspArr[k+1],"ubound"==n.label?s+=";$"+c+"<":s+=";$"+c+"<=",f="forto"):"next"==r.label?s+="}":"dim"==r.label?u=!0:-1!=r.label.indexOf(".")?s+="$"+r.label.replace(/\./g,"->"):-1==",call,set,byval,".indexOf(","+r.label+",")&&(-1!=A.indexOf(","+r.label+",")?(T==r.label&&"function"!=l.label&&"sub"!=l.label&&(s+="$"),"class"==l.label?s+=r.label+"{":"new"==l.label?s+=r.label+"()":(s+=r.label,"<(>"!=n.type&&T!=r.label&&(s+="()"))):s+=r.label),"<br>"!=n.type&&"<note>"!=n.type||!C||(F?F=!1:-1==",endfunction,then,endif,next,else,endselect,endclass,".indexOf(","+r.label+",")&&0==x&&(s+=";")))),"forto"!=f||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||"to"==r.label?"selectcase"!=d||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||"selectcase"==r.label?!x||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(")"!=l.label&&(s+=")"),s+="{",o=x=!1):(d="",")"!=l.label&&1==I&&(s+=")"),s+="{",j=I=!1):(s+="$"+c+m,c=f="",")"!=l.label&&(s+=")"),s+="{"),"<br>"==r.type&&(u=!1,i+=s,s="");return i+s},this.findTypeLocation=function(t,e,i){for(var s=t;s<=this.aspArr.length-1;s++){var r=this.aspArr[s];if(r.type==e&&r.label==i)return s}},this.getAddFenHao=function(t,e,i){return("<br>"==e.type||"<note>"==e.type||"<asp>"==e.type)&&"{"!=t.substr(t.length-1,1)||i&&"else"==e.label?";":""},this.aspBeautify=function(t){for(var e=0;e<this.aspArr.length;e++){var i=this.aspArr[e];if("class"==i.label)e<this.aspArr.length&&(s=this.aspArr[e+1],this.phpPublicObjectList+=s.label+",",this.phpPublicFunList+=s.label+",");else if("then"==i.label){var s={};if("<br>"!=(s=e<this.aspArr.length-1?this.aspArr[e+1]:s).type&&"<note>"!=s.type&&"<asp>"!=s.type)for(var r=e+1;r<this.aspArr.length;r++)--this.aspArr[r].lv}else if("sub"==i.label||"function"==i.label)e<this.aspArr.length-1&&(s=this.aspArr[e+1],this.phpPublicFunList+=s.label+",");else if("do"==i.label){if("<br>"==(s=this.aspArr[e+1]).type)for(r=e+1;r<this.aspArr.length;r++)(i=this.aspArr[r]).lv++}else"echo"==i.label?i.label=i.html="aspEcho":"die"==i.label?i.label=i.html="aspDie":"print"==i.label&&(i.label=i.html="aspPrint")}if(""!=this.phpPublicFunList)for(var l=","+this.phpPublicFunList+",",e=0;e<this.aspArr.length;e++)"<var>"==(i=this.aspArr[e]).type&&-1!=l.indexOf(","+i.label+",")&&(i.type="<fun>")},this.printASP=function(t){for(var e="",i=0;i<this.aspArr.length;i++){var s,r=this.aspArr[i];null!=r&&(s=r.upHtml+r.html+r.downHtml,"zip"==t?s="/*"==r.label?"":s.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(s=s.trim()+"\n"),""!=s)&&(e+=s)}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.aspArr)}},_xytasp=new _XIYUETAASP,_XIYUETACSS=((xiyuetaASP=$xytasp=$asp=function(t){return{parse:function(t){return _xytasp.aspParse(t),this},beautify:function(){return _xytasp.aspBeautify(t),this},tophp:function(t){return this.beautify(),((t=null==t?!1:t)?'<?PHP include_once "ASP.php" ?>\n':"")+_xytasp.tophp()},print:function(t){return _xytasp.printASP(t)},debug:function(t){return _xytasp.debug(t)}}}).load=function(t){return xiyuetaASP().parse(t),this},xiyuetaASP.html=function(t){return xiyuetaASP().tophp(t)},xiyuetaASP.debug=function(t){return xiyuetaASP().debug(t)},function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.lv=0,this.config={parentdir:"../",imagesdir:"images/"};for(var e={},i="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),s=0;s<i.length;s++){var r=i[s];e["[object "+r+"]"]=r.toLowerCase()}this.toType=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t},this.isSpaceBr=function(t){return" "==t||"\t"==t||"\n"==t||"\r"==t},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e="",i="",s="",r="",l=!1,n=!1,a=!1,o=!1,h=!1,u=0,f=-1,c=!1,m=0;m<=this.cssSource.length-1;m++){var d,p,g=e,e=this.cssSource.substr(m,1);l?(s+=e,a?"/"==e&&"*"==g&&(l=a=!1,this.cssArr.push({_index:++f,lv:1,label:"/*",upHtml:r,downHtml:"",html:s}),r=s=""):n&&"*"==e&&"/"==g?a=!0:o?c?(g=!1,p=(d=s.substr(0,s.length-1).trim()).substr(d.length-1),(g=0==(g=";"!=e&&"\n"!=e&&"\r"!=e||")"!=p?g:!0)&&m+1>=this.cssSource.length&&")"==(p=(d=s.trim()).substr(d.length-1))?!0:g)&&(c=o=l=n=h=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(i),upHtml:r,downHtml:"",html:s}),r=s="")):!h||";"!=e&&"\n"!=e&&"\r"!=e?" "==e&&n?"@charset "==s.toLowerCase()?n=!(h=!0):"@import"==this.common.toTrimLCase(s)?c=!(n=!(h=!0)):"@font-face "!=s.toLowerCase()&&"@page "!=s.toLowerCase()||(o=!1):"{"==e&&("@font-face{"==s.toLowerCase()||"@page{"==s.toLowerCase()?o=!1:(o=l=n=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(i),upHtml:r,downHtml:"",html:s}),u++,r=s="")):(c=o=l=n=h=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(i),upHtml:r,downHtml:"",html:s}),r=s=""):"{"==e&&n?n=!1:"}"==e&&(l=n=!1,this.cssArr.push({_index:++f,lv:u+1,label:this.handleClsCssLabel(i),upHtml:r,downHtml:"",html:s}),r=s=""),n&&(i+=e)):" "!=e&&";"!=e&&"\n"!=e&&"\r"!=e&&"\t"!=e?"}"==e&&1==u?(this.cssArr.push({_index:++f,lv:u,label:"}",upHtml:s,downHtml:"",html:"}"}),r=s="",u--):(r=s,n=l=!0,i=s=e,"@"==this.common.toTrimLCase(this.cssSource.substr(m,100)).substr(0,1)&&(o=!0)):s+=e}""!=s&&this.cssArr.push({_index:++f,lv:u,label:"",upHtml:"",downHtml:"",html:s}),this.lv=u},this.handleClsCssLabel=function(t){for(var e=0;e<9;e++){var i=t;if((t=(t=(t=(t=t.replace(/  /g," ")).replace(/ ,/g,",")).replace(/, /g,",")).replace(/\n/g,""))==i)break}return t.toLowerCase().trim()},this.handleLabelParam=function(t,e,i,s){if(null==e&&(e="(all)"),null==s&&(s=0),null==i&&null!=t[e+(0!=s?"__"+s:"")])return t[e+(0!=s?"__"+s:"")];for(var r,l="",n=(-1!=e.indexOf("|")&&(e=(r=e.split("|"))[0],l=r[1],""==e)&&(e="(all)"),-1),a=!1,o="",h="",u=!1,f="",c=!1,m=!0,d=0,p=0,g=!1,b=!1,x="",y="",v=t.html.indexOf("{")+1;v<=t.html.length-1;v++){var L=x;if(x=t.html.substr(v,1),u)if(c){if(0!=(g=1==g&&")"==x?!1:g)||x!=f&&"}"!=x&&v!=t.html.length-1)h+=x,"("==x&&(g=!0);else if(o=o.toLowerCase().trim(),0==s&&null==t[o+(0!=s?"__"+s:"")]&&(t[o+(0!=s?"__"+s:"")]=h),c=u=!1,f="",(e==o||"(all)"==e)&&++n==s)if(0<s&&(t[o+"__"+s]=h),null==i){if("url"!=l)return h;""!=(h=this.cssSrcUrl(h))&&(""!=y&&(y+="\n"),y+=h)}else{if(""==i)return _=t.html.substr(0,p),O=-1<(O=t.html.substr(v).indexOf(";"))?t.html.substr(v+O+1):t.html.substr(v),t.html=_+O,delete t[o+(0!=s?"__"+s:"")],t;var A=d,w=d+h.length,_=(m&&(A++,w++),t.html.substr(0,A)),O=t.html.substr(w);if("url"!=l)return t.html=_+i+O,t[o+(0!=s?"__"+s:"")]=i,t;A=this.cssSrcUrl(h,i);if(""!=A)return""!=y&&(y+="\n"),y+=A,t.html=_+A+O,v=(_+(t[o+(0!=s?"__"+s:"")]=A)).length,t}}else" "!=x&&(f=";",d=v,m=!(c=!0),h=x);else a?(":"==x?(u=!(a=!1),f=h=""):" "!=x&&(o+=x),-1!=o.indexOf("/*")&&4<=(w=o.trim()).length&&"/*"==w.substr(0,2)&&"*/"==w.substr(w.length-2,2)&&(a=!1)):b&&"/"==x&&"*"==L?b=!1:0==this.isSpaceBr(x)&&0==(b="/"==x&&"*"==t.html.substr(v+1,1)?!0:b)&&(a=!0,o=x,p=v)}if(null!=i&&""!=i&&""==l){for(var C=e+": "+i+";",T=t.html.length-1;0<=T;T--)if(" "!=(x=t.html.substr(T,1))&&"}"!=x){if(";"==x)break;if("{"==x)break;C="; "+C;break}t.html=t.html.replace("}",C+"}")}return y=""==y?void 0:y},this.getDocument=function(t,e,i){null==e&&(e=0),null==i&&(i=this.cssArr.length-1);var s=-1.1,r=-1.1,l=-1.1,n=-1.1,a="",o="",h="",u="",f="";if(t=(t=null==t?"":t).trim(),0==this.cssArr.length)return console.log("%c 需要先解析一段css文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var c=!1,m="",d=0;d<=t.length;d++){var p=t.substr(d,1);0!=c||"'"!=p&&'"'!=p&&"("!=p&&")"!=p?1==c?" "==p?p="-Space-":"'"!=p&&'"'!=p&&"("!=p&&")"!=p||(c=!1,"'"!=p&&'"'!=p)||(p=""):" "==p&&(p=""):(c=!0,"'"!=p&&'"'!=p||(p="")),m+=p}t=m}var g,b,x,y,v=t.indexOf(":");-1!=(v=(t=-1!=v&&(x=y="",b=(p=t.substr(v+1)).indexOf("("),g=p.indexOf(")"),-1!=b&&-1!=g?(y=p.substr(0,b).toLowerCase(),g=(x=p.substr(b+1)).indexOf(")"),x=x.substr(0,g).replace(/-Space-/g," ").trim()):y=p.toLowerCase(),"first"==y?s=0:"last"==y?s=-1:"even"==y?r=1:"odd"==y?r=0:"eq"==y?(s=0,(s=""!=x?parseInt(x):s)+""=="NaN"&&(s=-.1,t="")):"gt"==y?""!=x&&(l=parseInt(x)):"lt"==y?""!=x&&(n=parseInt(x)):"contains"==y?a=x:console.log(t,"没有动作 "+y),""==(t=t.substr(0,v)))&&-.1!=s?"(all)":t).indexOf("["))&&(g=(p=t.substr(v+1)).indexOf("]"),-1==(p=p.substr(0,g)).indexOf("=")?(o=p,h="*"):(o=(b=p.split("="))[0],h=b[1].replace(/-Space-/g," "),x=o.substr(o.length-1),-1!="!^$*~|".indexOf(x)&&(o=o.substr(0,o.length-1),u=x)),-1!=o.indexOf("|")&&(o=(y=o.split("|"))[0],"NOUL"==y[1])&&(h=h.toLowerCase(),f=y[1]),""==(t=t.substr(0,v)))&&(t="(all)");for(d=0;d<10&&-1!=t.indexOf("  ");d++)t=t.replace(/  /g," ");for(m="",d=e;d<=i;d++){var L=this.cssArr[d];null!=L&&(t==L.label||"(all)"==t&&""!=L.label)&&(m+=","+d)}if(""!=m&&-1.1!=s){var A=m.split(",");""!=(m=s<0?A[A.length+s]:A[s+1])&&(m=","+m)}else if(""!=m&&-1.1!=r){A=m.split(",");m="";for(d=1;d<=A.length-1;d++)d%2==r&&(m+=","+A[d])}else if(""!=m&&-1.1!=l){A=m.split(",");m="";for(d=l+2;d<=A.length-1;d++)m+=","+A[d]}else if(""!=m&&-1.1!=n){A=m.split(",");m="",n>A.length-1&&(n=A.length-1);for(d=1;d<=n;d++)m+=","+A[d]}else if(""!=m&&""!=a){A=m.split(",");m="";for(d=1;d<=A.length-1;d++){p=A[d];-1!=this.text(","+p).indexOf(a)&&(m+=","+A[d])}}else if(""!=o){A=m.split(",");m="";for(d=1;d<=A.length-1;d++){var w=A[d],_=!0,p=this.css(domList=","+w);"NOUL"==f&&null!=p&&(p=p.toLowerCase()),"^"==u?null!=p&&p.substr(0,h.length)==h||(_=!1):"|"==u?null!=p&&(p+"-").substr(0,h.length+1)==h+"-"||(_=!1):"$"==u?null!=p&&p.substr(-1*h.length)==h||(_=!1):"~"==u?null!=p&&-1!=(" "+p+" ").indexOf(" "+h+" ")||(_=!1):"*"==u?null!=p&&-1!=p.indexOf(h)||(_=!1):"!"==u?p==h&&(_=!1):null!=p&&"*"==h?_=!0:p!=h&&(_=!1),_&&(m+=","+w)}}for(var O=m.split(","),C=[],d=0;d<O.length;d++)""!=O[d]&&C.push({index:O[d],x:O[d],y:O[d]});return C},this.handleDomList=function(t){return"object"==this.toType(t)?null!=t.domList?t.domList:null!=t._index?[{index:t._index,x:t._index,y:t._index}]:[t]:"string"==this.toType(t)?this.getDocument(t):t},this.each=function(t,e){if("function"!=typeof e)return!1;t=this.handleDomList(t);for(var i=[],s=0;s<t.length;s++){var r=t[s],l=e.call(r,s,r);if(r.value=l,i.push(r),"boolean"==typeof l&&0==l)break}return i},this.text=function(t,e){var i="get",t=this.handleHtmlText(t,e,"text",i=2<=arguments.length?"set":i);return t=null==t?"":t},this.html=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"html",i)},this.htmlwrap=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"htmlwrap",i)},this.getBackground=function(t,e){var i="get",t=this.handleHtmlText(t,e,"background",i=2<=arguments.length?"set":i);return t=null==t?"":t},this.handleHtmlText=function(t,e,i,s){if(null!=t){t=this.handleDomList(t);var r=this.toType(e);if("function"==r){for(var l=this.each(t,e),n=0;n<l.length;n++)l[n]&&this.handleHtmlText(l[n],l[n].value,i,s);return!1}if("set"==s){if("undefined"==r)return;null==e?e="":e+=""}for(var a="",n=0;n<t.length;n++){var o=this.cssArr[t[n].index];if(null!=o)if("htmlwrap"==i){if("get"==s)return o.html;o.html=e}else if("background"==i){var h,u=this.css(o,"background");"get"==s?null!=u&&(h=this.cssSrcUrl(u),a+=this.handleClearBackground(h)):null!=u&&(h=u,"server="==e.substr(0,7)?(h=this.handleClearBackground(h),e=this.common.fullHttpUrl(e.substr(7),h)):"dir="==e.substr(0,4)&&(h=this.handleClearBackground(h),e=e.substr(4)+this.common.getUrlFileName(h)),e=this.cssSrcUrl(u,e),this.css(o,"background",e))}else if("@charset"==o.label)if("get"==s){if(a+=o.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim(),"html"==i)return a}else o.html='@charset "'+e+'";';else if("@import"==o.label)if("get"==s){u=(u=o.html.substr(8)).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim();if(a+=u=this.handleClearBackground(u),"html"==i)return a}else o.html='@import url("'+e+'");';else{var f=o.html.indexOf("{"),c=o.html.indexOf("}");if("get"==s){if(-1!=f&&-1!=c&&(a+=o.html.substr(f+1,c-f-1)),"html"==i)return a}else o.html=o.html.substr(0,f+1)+e+"}"}}return a}},this.css=function(t,e,i){if(null!=t){t=this.handleDomList(t);var s=this.toType(i);if("function"==s){for(var r=this.each(t,i),l=0;l<r.length;l++)r[l]&&this.css(r[l],e,r[l].value);return!1}var n=3<=arguments.length?"set":"get";if("set"==n){if("undefined"==s)return;null==i?i="":i+=""}for(l=0;l<t.length;l++){var a=this.cssArr[t[l].index];if(null!=a){if("get"==n)return this.handleLabelParam(a,e);this.handleLabelParam(a,e,i)}}}},this.remove=function(t){if(null!=t){t=this.handleDomList(t);for(var e=0;e<t.length;e++){var i=this.cssArr[t[e].index];null!=i&&(i.html="",i.label="<del>")}return this}},this.getsrc=function(t,e){if(null!=t){t=this.handleDomList(t);for(var i="",s=0;s<t.length;s++){var r=this.cssArr[t[s].index];if(null!=r){var l,n=this.text(r),a=this.cssSrcUrl(n);if("@import"==r.label&&(a=n),a=this.handleClearBackground(a),null!=e){l=-1!=a.indexOf(";base64,")?[a]:a.split(",");for(var o=0;o<=l.length-1;o++)""!=(a=l[o])&&-1==a.indexOf(";base64,")&&("server="==e.substr(0,7).toLowerCase()?7<e.length&&(a=this.common.fullHttpUrl(e.substr(7),a)):"dir="==e.substr(0,4).toLowerCase()?4<e.length&&(a=e.substr(4)+this.common.getUrlFileName(a)):"filename"==e.substr(0,8).toLowerCase()&&8<e.length&&(a=this.common.getUrlFileName(a)),""!=i&&(i+=","),i+=a)}else""!=a&&(""!=i&&(i+=","),i+=a)}}return i}},this.setsrc=function(t,e,i){if(null!=t){t=this.handleDomList(t);var s=this.toType(e);if("function"==s){for(var r=this.each(t,e),l=0;l<r.length;l++)r[l]&&this.setsrc(r[l],r[l].value);return!1}if("undefined"!=s){null==e?e="":e+="";for(l=0;l<t.length;l++){var n=this.cssArr[t[l].index];if(null!=n){for(var a="",o=this.text(n),h=o.split(";"),u=0;u<=h.length-1;u++){var f=h[u];""!=a&&(a+=";"),"@import"==n.label&&(f="url("+f+")"),f=this.cssSrcUrl(f,e),a+=f="@import"==n.label?(f=f.substr(4)).substr(0,f.length-1):f}o!=a&&this.text(n,a)}}return this}}},this.handleClearBackground=function(t){var e=t.indexOf("(");if(-1==(t=-1!=(e=(t=-1!=e?t.substr(e+1):t).indexOf(")"))?t.substr(0,e):t).indexOf("'")&&-1==t.indexOf('"')&&-1==t.indexOf("("))return t;for(var i=!1,s="",r=0;r<=t.length;r++){var l=t.substr(r,1);0!=i||"'"!=l&&'"'!=l&&"("!=l&&")"!=l?1==i?"'"!=l&&'"'!=l&&"("!=l&&")"!=l||(i=!1,"'"!=l&&'"'!=l)||(l=""):" "==l&&(l=""):(i=!0,"'"!=l&&'"'!=l||(l="")),s+=l}return s.trim()},this.cssSrcUrl=function(t,e){if(-1==t.indexOf(",")||-1!=t.indexOf(";base64,"))return this.handleCssSrcUrl(t,e);for(var i=t.split(","),s="",r=0;r<i.length;r++){var l=i[r];""!=(l=this.handleCssSrcUrl(l,e))&&(""!=s&&(s+=","),s+=l)}return s},this.handleCssSrcUrl=function(t,e){if(null==t)return"";if(null==e){var i=t.toLowerCase();if(-1==i.indexOf("url(")||-1==t.indexOf(")"))return null!=e&&"dir="!=e.substr(0,4)&&"server="!=e.substr(0,7)?t:"";if(-1==i.indexOf("url"))return null!=e&&"dir="!=e.substr(0,4)&&"server="!=e.substr(0,7)?t:""}for(var s="",r=!1,l=!1,n="",a=-1,o=0;o<=t.length-1;o++){var h=t.substr(o,1);if(r)if(l){if(n==h){var u=t.substr(a,o-a);if(null!=e)if("server="==e.substr(0,7)){if(-1!=u.indexOf("data:"))return t;u=t.substr(0,a)+this.common.fullHttpUrl(e.substr(7),u)+t.substr(o)}else if("dir="==e.substr(0,4)){if(-1!=u.indexOf("data:"))return t;u=t.substr(0,a)+e.substr(4)+xiyueta.getUrlToFileName(u)+t.substr(o)}else-1==u.indexOf("data:")&&(u=t.substr(0,a)+e+t.substr(o));return u}}else""!=h&&('"'==h||"'"==h?(l=!0,n=h,-1==a&&(a=o+1)):" "!=h&&(l=!0,n=")",-1==a)&&(a=o));else"("==h&&"url"==(u=s.trim().toLowerCase()).substr(u.length-3,3)?r=!0:s+=h}return t},this.after=function(t,e){if(null!=t){t=this.handleDomList(t);var i=this.toType(e);if("function"==i){for(var s=this.each(t,e),r=0;r<s.length;r++)s[r]&&this.after(s[r],s[r].value);return!1}if("undefined"!=i){null==e?e="":e+="";for(r=0;r<t.length;r++){var l=this.cssArr[t[r].index];null!=l&&null!=e&&(l.downHtml+=e)}return this}}},this.getLv=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.cssArr[t[0].x];if(t)return t.lv}},this.getLabel=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.cssArr[t[0].x];if(t)return t.label}},this.delrepeat=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)){for(var e=0,i=0;i<t.length;i++){var s=this.cssArr[t[i].index];if(null!=s){var r=s.label.substr(0,1);if(1==s.lv&&"}"!=r&&"@"!=r){for(var l=!1,n=0;n<t.length;n++){var a=this.cssArr[t[n].index];if(null!=a&&i!=n&&1==a.lv&&s.label==a.label&&s.html.trim()==a.html.trim()){l=!0;break}}l&&(xiyuetaCSS(s).remove(),e++)}}}return e}},this.before=function(t,e){if(null!=t){t=this.handleDomList(t);var i=this.toType(e);if("function"==i){for(var s=this.each(t,e),r=0;r<s.length;r++)s[r]&&this.before(s[r],s[r].value);return!1}if("undefined"!=i){null==e?e="":e+="";for(r=0;r<t.length;r++){var l=this.cssArr[t[r].index];null!=l&&null!=e&&(l.upHtml+=e)}return this}}},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var i=this.cssArr[e];if(null!=i)if("@charset"==i.label)return null!=t?(i.html='@charset "'+t+'";',""):i.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.importurl=function(t,e,i){if(null!=t){t=this.handleDomList(t);var s=this.toType(i);if("function"==s){for(var r=this.each(t,i),l=0;l<r.length;l++)r[l]&&this.before(r[l],r[l].value);return!1}if("set"==e){if("undefined"==s)return;null==i?i="":i+=""}for(l=0;l<t.length;l++){var n=this.cssArr[t[l].index];if(null!=n)return"set"==e?(n.html='@import url("'+i+'");',!0):(n=(n=n.html.substr(8)).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase(),this.handleClearBackground(n))}return this}},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir,null!=t.cssdir)){for(var e=t.cssdir.split("/"),i="",s=0;s<=e.length-2;s++)i+="../";this.config.parentdir=i}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",i=0;i<=this.cssArr.length-1;i++){var s,r=this.cssArr[i];null!=r&&(s=r.upHtml+r.html+r.downHtml,"zip"==t?s="/*"==r.label?"":s.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(s=s.trim()+"\n"),""!=s)&&(e+=s)}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.cssArr)},this.eq=function(t,e){return t=this.handleDomList(t),"array"==this.toType(t)&&(null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1),-1.1!=e)?(e=e<0?t.length+e:e)>t.length?"":[t[e]]:[]},this.appendRoot=function(t,e){if(null!=t){t=this.handleDomList(t);var i=this.toType(e);if("function"==i){for(var s=this.each(t,e),r=0;r<s.length;r++)s[r]&&this.before(s[r],s[r].value);return!1}if("undefined"!=i){null==e?e="":e+="";for(var l=e.length,r=0;r<t.length;r++){var n=this.cssArr[t[r].index];if(null!=n&&null!=e&&"@"!=n.label.substr(0,1)&&"}"!=n.label.substr(0,1)&&-1==n.label.indexOf("%")){for(var a=n.label.split(","),o="",h=0;h<a.length;h++){var u,f=a[h].trim(),c=!0;e==f.substr(0,l)&&(c=" "!=(u=f.substr(l,1).toLowerCase())&&""!=u&&"."!=u&&"#"!=u&&"["!=u&&":"!=u&&"{"!=u,console.log("s2",u,c)),""!=o&&(o+=","),1==c&&(o+=e+" "),o+=f}n.label=o;var m=n.html.indexOf("{");0<m&&(n.html=o+n.html.substr(m))}}}}},this.testABC=function(t){if(null!=t){t=this.handleDomList(t);for(var e=[],i=0;i<t.length;i++){var s=this.cssArr[t[i].index];if(null!=s)for(var r=0;r<6;r++){var l=this.cssall(s,"src",r);if(null==l)break;var n=this.handleSrcArr(l);console.log("arr",n);for(var a=0;a<n.length;a++)e.push(n[a])}}return e}},this.imgarr=function(t,e,i,s){var r,l;return"get"==e?(r=this.srcarr(t,e,i,s,"background"),l=this.srcarr(t,e,i,s,"background-image"),r.concat(l)):(this.srcarr(t,e,i,s,"background"),this.srcarr(t,e,i,s,"background-image"),this)},this.importarr=function(t,e,i,s){if(null==t)return[];t=this.handleDomList(t),"set"==e&&null==s&&(s="<action.set>");for(var r=[],l=0;l<t.length;l++){var n,a,o=this.cssArr[t[l].index];null!=o&&"@import"==o.label&&null!=(n=this.htmlwrap(o))&&("set"==e?(a=this.handleSrcArr(n,s,i,"css"),this.htmlwrap(o,a)):(o=this.handleSrcArr(n,void 0,i,"css"),r=r.concat(o)))}return"set"==e?this:r},this.srcarr=function(t,e,i,s,r){if(null==t)return[];t=this.handleDomList(t);null==r&&(r="src"),"set"==e&&null==s&&(s="<action.set>");for(var l=[],n=0;n<t.length;n++){var a=this.cssArr[t[n].index];if(null!=a&&"/*"!=a.label)for(var o=0;o<6;o++){var h,u=this.cssall(a,r,o);if(null==u)break;"set"==e?(h=this.handleSrcArr(u,s,i,"image"),this.cssall(a,r,o,h)):(h=this.handleSrcArr(u,void 0,i,"image"),l=l.concat(h))}}return"set"==e?this:l},this.cssall=function(t,e,i,s){if(null!=t){t=this.handleDomList(t);var r=this.toType(s);if("function"==r){for(var l=this.each(t,s),n=0;n<l.length;n++)l[n]&&this.css(l[n],e,l[n].value);return!1}var a=4<=arguments.length?"set":"get";if("set"==a){if("undefined"==r)return;null==s?s="":s+=""}for(n=0;n<t.length;n++){var o=this.cssArr[t[n].index];if(null!=o){if("get"==a)return this.handleLabelParam(o,e,void 0,i);this.handleLabelParam(o,e,s,i)}}}},this.handleSrcArr=function(t,e,i,s){if(null==t)return"";for(var r,l="get",n=(null!=e&&(l="set","string"==(r=this.toType(e))?"<action.set>"==e?l="replace":e=[e]:"null"==r?e=[]:"array"!=r&&(e=[e])),[]),a=0,o=-1,h=-1,u=0;u<9&&a!=o;u++)for(var o=a,f="",c=!1,m=!1,d="",p=-1,g=a;g<=t.length-1;g++){var b,x=t.substr(g,1);if(c)if(m){if(d==x){if("get"==l&&(y=t.substr(p,g-p),n.push(this.hanldeUrlConfig(y,i,s))),"replace"==l){var y=t.substr(p,g-p);y=this.hanldeUrlConfig(y,i,s);var v,a=(v=t.substr(0,p)+y).length;t=v+t.substr(g);break}if("set"==l){++h<e.length&&(y=e[h],y=this.hanldeUrlConfig(y,i,s),a=(v=t.substr(0,p)+y).length,t=v+t.substr(g));break}a=g+1;break}}else""!=x&&('"'==x||"'"==x?(m=!0,d=x,-1==p&&(p=g+1)):" "!=x&&(m=!0,-1==p&&(p=g),(d=")")==x)&&g--);else"("==x&&"url"==(b=f.trim().toLowerCase()).substr(b.length-3,3)?c=!0:f+=x}return"set"==l||"replace"==l?t:n},this.hanldeUrlConfig=function(t,e,i){if(null!=e&&(t=(t+"").trim(),null!=(e=e.trim()))){if("server="==e.substr(0,7).toLowerCase())return-1==t.indexOf("data:")&&""!=t?this.common.fullHttpUrl(e.substr(7),t):t;if("dir="==e.substr(0,4).toLowerCase())return-1==t.indexOf("data:")&&""!=t?e.substr(4)+xiyueta.getUrlToFileName(t,i):t;if("filename"==e.substr(0,8).toLowerCase())return-1==t.indexOf("data:")&&""!=t?this.common.getUrlFileName(t,i):t;if(-1==t.indexOf("data:"))return e}return t}}),_xytcss=new _XIYUETACSS,xiyuetaCss=function(t,e,i){return new xiyuetaCss.fn.init(t,e,i)},init=(xiyuetaCss.fn=xiyuetaCss.prototype={length:0,selector:"",docList:void 0,x:null,y:null},xiyuetaCss.extend=xiyuetaCss.fn.extend=function(){var t,e,i,s=arguments[0]||{},r=1,l=arguments.length;for(r===l&&(s=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&void 0!==i&&(s[e]=i);return s},xiyuetaCss.fn.init=function(t,e,i){this.length=0,this.selector=t,this.domList=void 0,this.x=e,this.y=i,this.domListArray=[],0<_xytcss.cssArr.length&&("string"==typeof t?(this.domList=_xytcss.getDocument(t,e,i),this.length=this.domList.length):"object"==typeof t&&(this.domList=t,this.length=1,this.selector="")),null==this.selector&&(this.selector="")}),_XIYUETA=(init.prototype=xiyuetaCss.fn,(xiyuetaCSS=$xytcss=$css=xiyuetaCss).fn.extend({parse:function(t){return _xytcss.cssParse(t),0<_xytcss.cssArr.length&&"string"==typeof this.selector&&(this.domList=_xytcss.getDocument(this.selector,this.x,this.y),this.length=this.domList.length),this},each:function(t){return _xytcss.each(this.domList,t),this},text:function(t){return 1<=arguments.length?(_xytcss.text(this.domList,t),this):_xytcss.text(this.domList)},html:function(t){return 1<=arguments.length?(_xytcss.html(this.domList,t),this):_xytcss.html(this.domList)},htmlwrap:function(t){return 1<=arguments.length?(_xytcss.htmlwrap(this.domList,t),this):_xytcss.htmlwrap(this.domList)},css:function(t,e){return 2<=arguments.length?(_xytcss.css(this.domList,t,e),this):_xytcss.css(this.domList,t)},cssall:function(t,e,i){return 3<=arguments.length?(_xytcss.cssall(this.domList,t,e,i),this):_xytcss.cssall(this.domList,t,e)},background:function(t){return 1<=arguments.length?(_xytcss.getBackground(this.domList,t),this):_xytcss.getBackground(this.domList)},remove:function(){return _xytcss.remove(this.domList),this},getsrc:function(t){return _xytcss.getsrc(this.domList,t)},setsrc:function(t){return _xytcss.setsrc(this.domList,t),this},after:function(t){return _xytcss.after(this.domList,t),this},before:function(t){return _xytcss.before(this.domList,t),this},appendRoot:function(t){return _xytcss.appendRoot(this.domList,t),this},print:function(t){return _xytcss.printCss(t)},debug:function(t){return _xytcss.debug(t)},getlabel:function(){return _xytcss.getLabel(this.domList)},getlv:function(){return _xytcss.getLv(this.domList)},index:function(t){if(""==t||null==t)return("array"==_xyt.toType(this.domList)?this.domList[0]:this.domList).index;t=xiyuetaCSS(t).domList;if(null!=t&&0!=t.length)for(var e=t[0],i=0;i<this.domList.length;i++){var s=this.domList[i];if(s.x==e.x&&s.y==e.y)return s.index}return-1},getsrcarr:function(t){return _xytcss.srcarr(this.domList,"get",t)},setsrcarr:function(t,e){return _xytcss.srcarr(this.domList,"set",e,t),this},getimgarr:function(t){return _xytcss.imgarr(this.domList,"get",t)},setimgarr:function(t,e){return _xytcss.imgarr(this.domList,"set",e,t),this},getimportarr:function(t){return _xytcss.importarr(this.domList,"get",t)},setimportarr:function(t,e){return _xytcss.importarr(this.domList,"set",e,t),this}}),xiyuetaCSS.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],s=0;s<this.domList.length;s++)s%2==0&&((t=this.domList[s]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],s=0;s<this.domList.length;s++)s%2==1&&((t=this.domList[s]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},slice:function(t,e){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e),this.length=this.domList.length,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},delrepeat:function(){return _xytcss.delrepeat(this.domList)},importurl:function(t){return 1<=arguments.length?(_xytcss.importurl(this.domList,"set",t),this):_xytcss.importurl(this.domList)},note:function(t){null==t&&(t="");for(var e=_xytcss.handleDomList(this.domList),i=0;i<e.length;i++){var s=e[i],r=xiyuetaCSS(s).htmlwrap();xiyuetaCSS(s).htmlwrap("/*"+t+r+"*/")}return this},testABC:function(t){return _xytcss.testABC(this.domList)}}),xiyuetaCSS.debug=function(t){return xiyuetaCSS().debug(t)},xiyuetaCSS.load=function(t,e){return xiyuetaCSS().parse(t,e),this},xiyuetaCSS.html=function(t){return _xytcss.printCss(t)},xiyuetaCSS.charset=function(t){return _xytcss.handleCssCharset(t)},xiyuetaCSS.config=function(t){return _xytcss.setConfig(t)},xiyuetaCSS.lv=function(){return _xytcss.lv},function(){"use strict";this.version="1.3.9-beta.0",this.htmlSource="",this.htmlArr=[],this.lv=0,this.isHtmlErr=!1,this.common=new XiyuetaCommon,this.config={httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/",urlToNameList:"",urlDefaultFileName:"default"},this.tplConfig={type:"xiyuetacms",minrow:4},this.singleLabelList="|path|source|br|hr|img|link|meta|param|input|!doctype|rect|line|col|wbr|base|basefont|area|";for(var e={},t="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),i=0;i<t.length;i++){var s=t[i];e["[object "+s+"]"]=s.toLowerCase()}this.toType=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t},this.isSpaceBr=function(t){return" "==t||"\t"==t||"\n"==t||"\r"==t},this.parseHTML=function(t){this.htmlSource=t+="";var e="",i="",s="",r="",l=!(this.htmlArr=[]),n=!1,a=!1,o=!1,h=!1,u=!1,f=0,c=!1,m="",d=0,p=-1;this.isHtmlErr=!1;for(var g=0;g<this.htmlSource.length;g++){var b,x,y,v,L=e,e=this.htmlSource.substr(g,1);l?(s+=e,1==d?-1==" \n\r\t".indexOf(e)&&(d=2,m="'"!=e&&'"'!=e?"":e):2!=d&&(3==d?(m==e||""==m&&">"==e)&&(d=4):4==d&&c&&(e==m||""==m&&">"==e||""==m&&-1!=" \n\r\t".indexOf(e))&&(c=!1,m="",d=0)),o?">"==e&&"--\x3e"==s.substr(s.length-3,3)&&(a=l=o=!1,this.htmlArr.push({_index:++p,lv:f+1,label:"!--",upHtml:r,downHtml:"",html:s,tagpair:1}),r=s=""):n&&"\x3c!--"==s?o=!0:h?">"==e&&"%"==L&&(a=l=h=!1,s=r+s,r=""):n&&"<%"==s?h=!0:u?">"==e&&"?"==L&&(a=l=u=!1,s=r+s,r=""):n&&"<?"==s?u=!0:-1!=" \n\r\t".indexOf(e)&&n?n=!1:"<"==e?"%"==(v=this.htmlSource.substr(g+1,1).toLowerCase())?0<(b=this.htmlSource.substr(g+1).indexOf("%>"))&&(s+=this.htmlSource.substr(g+1).substr(0,b+2),g+=b+2):"?"==v?0<(b=this.htmlSource.substr(g+1).indexOf("?>"))&&(s+=this.htmlSource.substr(g+1).substr(0,b+2),g+=b+2):0==d&&(l=n=!1,s=r,g--):2==d?d=3:3==d?(c=!0,d=4):4==d&&c?(e==m||""==m&&">"==e||""==m&&-1!=" \n\r\t".indexOf(e))&&(c=!1,m="",d=0):"="==e?(d=1,m=""):">"==e&&(l=n=!1,L=2,"/"==i.substr(0,1)?-1!=this.singleLabelList.indexOf("|"+i.substr(1).toLowerCase()+"|")?(f++,a=!0,i=i.substr(L=1).trim()):a=!0:(f++,"/"!=i.substr(i.length-1,1)&&-1==this.singleLabelList.indexOf("|"+i.toLowerCase()+"|")||(a=!0,L=1,i=i.replace(/\//g,"").trim())),x=i.toLowerCase(),this.htmlArr.push({_index:++p,lv:f,label:x,upHtml:r,downHtml:"",html:s,tagpair:L}),f<1&&(this.isHtmlErr=!0),r=s="",a&&(f--,a=!1),"script"==x?(y=this.htmlSource.substr(g+1).toLowerCase().indexOf("<\/script>"),s=this.htmlSource.substr(g+1,y),g+=y):"style"==x?(y=this.htmlSource.substr(g+1).toLowerCase().indexOf("</style>"),s=this.htmlSource.substr(g+1,y),g+=y):"textarea"==x&&(y=this.htmlSource.substr(g+1).toLowerCase().indexOf("</textarea>"),s=this.htmlSource.substr(g+1,y),g+=y)),n&&(i+=e)):"<"==e&&(d=0,v=this.htmlSource.substr(g+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(v))?(r=s,s=e,a=!(n=l=!0),i=""):s+=e}""!=s&&this.htmlArr.push({_index:++p,lv:f,label:"",upHtml:r,html:s,downHtml:""}),this.lv=f},this.getLabelParamList=function(t){for(var t=(t=this.handleDomList(t))[0].x,e=this.htmlArr[t],i=!1,s=!1,r="",l="",n=!1,a="",o=!1,h=!1,u="",f=e.label.length+1;f<e.html.length;f++){var c=e.html.substr(f,1);n?o?h?(">"==c&&(h=!1),l+=c):c==a||">"==c?(e[r=r.toLowerCase()]=l,o=n=!1,(a="")!=u&&(u+=" "),u+=r):("<"==c&&(h=!0),l+=c):'"'==c||"'"==c?(a=c,o=!0):" "!=c&&(a=" ",l=c,o=!0):">"==c&&0==i||(i?"="==c?(n=!(i=!1),a=l=""):0==s?-1!=" \t\n\r".indexOf(c)?s=!0:r+=c:-1==" \t\n\r".indexOf(c)&&(i=!1,r=""):-1==" \t\n\r".indexOf(c)&&(s=!(i=!0),r=c,0))}return u},this.handleLabelParam=function(t,e,i){if(null==t)return"";if(null==i){if(null!=t[e])return t[e]}else i+="";if("!--"!=t.label)for(var s=!1,r="",l="",n=!1,a="",o=!1,h=!0,u=0,f=0,c=!1,m=t.label.length+1;m<t.html.length;m++){var d,p,g,b,x,y,v=L,L=t.html.substr(m,1),A=t.html.substr(m+1,1);if(n)if(o)if(c)">"==L&&(c=!1),l+=L;else if(L==a||">"==L&&""==a){if(t[r=r.toLowerCase()]=l,o=n=!1,a="",e==r)return null==i?l:(""==i?(b=t.html.substr(0,f-1).trim(),">"!=(x=t.html.substr(m+1).trim()).substr(0,1)&&(x=" "+x),t.html=b+x,t[r]=void 0):(y=(g=u)+l.length,h&&(g++,y++),b=t.html.substr(0,g),x=t.html.substr(y),t.html=b+i+x,t[r]=i),t);if(">"==L&&""==a&&null!=i)return""!=i&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+i+'">'),t[e]=i,t}else"<"!=L||"%"!=A&&"?"!=A||(c=!0),l+=L;else'"'==L||"'"==L?(a=L,u=m,h=o=!0):" "!=L&&(a=" ",u=m,l=L,h=!(o=!0));else{if(">"==L&&0==s)return null==i?void 0:(""!=i&&("/"==v?(p=(d=t.html.substr(0,t.html.length-2)).substr(d.length-1),0==this.isSpaceBr(p)&&(d+=" "),t.html=d+e+'="'+i+'" />'):(p=(d=t.html.substr(0,t.html.length-1)).substr(d.length-1),0==this.isSpaceBr(p)&&(d+=" "),t.html=d+e+'="'+i+'">'),t[e]=i),t);if(s)if("="==L)n=!(s=!1),a=l="";else if(0==this.isSpaceBr(L)&&(-1!=r.indexOf(" ")||-1!=r.indexOf("\r")||-1!=r.indexOf("\n")||-1!=r.indexOf("\t"))||">"==L||"/"==L){if(e==(r=r.trim()))return null==i?"":(""==i?(b=t.html.substr(0,f).trim(),">"!=(x=t.html.substr(m).trim()).substr(0,1)&&(x=" "+x),t.html=b+x,t[r]=void 0):(g=f+r.length,b=t.html.substr(0,g),y=(x=t.html.substr(g)).substr(0,1),0==this.isSpaceBr(y)&&">"!=y&&(x=" "+x),t.html=b.trim()+'="'+i+'"'+x,t[r]=i),t);">"!=L&&"/"!=L||(--m,s=!1),"/"==L||">"==L?s=!1:(s=!0,r=L,f=m)}else r+=L;else-1==" \t\n\r/".indexOf(L)&&(s=!0,r=L,f=m)}}},this.getDocument=function(t,e,i,s,r){if(null==t&&(t=""),null==s&&(s=!1),0==this.htmlArr.length)return console.log("%c 需要先解析一段html文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf(",")){for(var l=[],n=t.split(","),a=0;a<n.length;a++){var o=this.getDocument(n[a],e,i,s);l=l.concat(o)}return l=this.delDomListDuplicate(l)}if(""==(t=t.trim()))return"";null==e&&(e=0),null==i&&(i=this.htmlArr.length-1);var h=-1.1,u=-1.1,f=-1.1,c=-1.1,m=-1.1,d="",p=!1,g="",b="",x="",y="",v="",L="";if("number"==this.toType(r)&&(u=r),-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var A=!1,L="",a=0;a<t.length;a++){var w=t.substr(a,1);0!=A||"'"!=w&&'"'!=w&&"("!=w?1==A&&(" "==w?w="-Space-":":"==w?w="-MenHao-":"'"!=w&&'"'!=w&&")"!=w||(A=!1,"'"!=w&&'"'!=w)||(w="")):(A=!0,"'"!=w&&'"'!=w||(w="")),L+=w}t=L}var r=t.indexOf(">"),_=t.indexOf(" "),O=" ",C=_;-1!=r&&(r<_||-1==_)&&(O=">",C=r),-1<C&&(g=t.substr(C+1).trim(),t=t.substr(0,C),">"==g.substr(0,1))&&(g=g.substr(1),O=">");-1!=(C=t.indexOf(":"))&&(r=_="",j=(w=t.substr(C+1)).indexOf("("),S=w.indexOf(")"),-1!=j&&-1!=S?(_=w.substr(0,j).toLowerCase(),S=(r=w.substr(j+1)).indexOf(")"),r=r.substr(0,S).replace(/-Space-/g," ").replace(/-MenHao-/g,":").trim()):_=w.toLowerCase(),"first"==_?h=0:"last"==_?h=-1:"even"==_?f=0:"odd"==_?f=1:"eq"==_?(h=0,(h=""!=r?parseInt(r):h)+""=="NaN"&&(h=-.1,t="")):"lv"==_?(u=1,(u=""!=r?parseInt(r):u)+""=="NaN"&&(u=-.1,t="")):"gt"==_?""!=r&&(c=parseInt(r))+""=="NaN"&&(c=-.1,t=""):"lt"==_?""!=r&&(m=parseInt(r))+""=="NaN"&&(m=-.1,t=""):"header"==_?p=!0:"contains"==_?d=r:console.log(t," no action "+_),""!=(t=t.substr(0,C))||-.1==h&&-.1==u||(t="*"));var U=[];if(-1!=t.indexOf("["))for(a=0;a<10;a++)if(-1!=(C=t.indexOf("["))){var T,S=(w=t.substr(C+1)).indexOf("]"),H=(v=y=x=b="",-1==(w=w.substr(0,S)).indexOf("=")?(b=w,x="*"):(b=(T=w.split("="))[0],x=T[1].replace(/-Space-/g," ").replace(/-MenHao-/g,":"),T=b.substr(b.length-1),-1!="!^$*~|".indexOf(T)&&(b=b.substr(0,b.length-1),y=T)),-1!=b.indexOf("|")&&(b=(T=b.split("|"))[0],"NOUL"==T[1]?(x=x.toLowerCase(),v=T[1]):"TRIM"==T[1]?(x=x.trim(),v=T[1]):"NOULTRIM"==T[1]&&(x=x.toLowerCase().trim(),v=T[1])),b=b.toLowerCase(),U.push({name:b,value:x,action:y,myaction:v}),t.substr(w.length+C+2));if(t=t.substr(0,C),-1!=H.indexOf("[")&&(t+=H),""==t&&(t="*"),-1==H.indexOf("["))break}if("#"==t.substr(0,1)){if(0<h)return"";h=0}var D,j={type:"",name:"",nFocus:-1.1},l=(-1<(C=t.substr(1).lastIndexOf("."))?(t=(D=t).substr(0,C+1),j={type:".",name:D.substr(C+2).toLowerCase()}):-1<(C=t.substr(1).lastIndexOf("#"))&&(t=(D=t).substr(0,C+1),j={type:"#",name:D.substr(C+2).toLowerCase()}),this.serchDocument(t,e,i,j,U));if(0<l.length)if(-1.1!=h)l=h<0?[l[l.length+h]]:[l[h]];else if(-1.1!=u){for(var I=[],a=0;a<l.length;a++)(F=this.htmlArr[l[a].x]).lv==u&&I.push(l[a]);l=I}else if(-1.1!=f){for(I=[],a=0;a<l.length;a++)a%2==f&&I.push(l[a]);l=I}else if(-1.1!=c){for(I=[],a=c+1;a<l.length;a++)I.push(l[a]);l=I}else if(-1.1!=m){m>l.length&&(m=l.length);for(I=[],a=0;a<m;a++)I.push(l[a]);l=I}else if(""!=d){for(var F,I=[],a=0;a<l.length;a++)(F=l[a]).x!=F.y&&-1!=this.text(F).indexOf(d)&&I.push(l[a]);l=I}else if(p){for(I=[],n="h1,h2,h3,h4,h5,h6,,h7,h8,h9".split(","),a=0;a<l.length;a++)for(var e=l[a].x,i=l[a].y,o=this.getDocument(t+" "+n[a],e,i,s),k=0;k<o.length;k++)I.push(o[k]);l=I}if(""!=g&&0<l.length){for(var N,I=[],a=0;a<l.length;a++)(e=l[a].x)!=(i=l[a].y)&&(N="",">"==O&&(N=this.htmlArr[e].lv+1),o=this.getDocument(g,e+1,i-1,!0,N),I=I.concat(o));l=I}return l=0==s?this.delDomListDuplicate(l):l},this.delDomListDuplicate=function(t){if(t.length<=1)return t;for(var e="",i=-1,s=[],r=0;r<t.length;r++){var l,n=t[r];null!=n&&n&&(l=n.x+"|"+n.y,-1==(","+e+",").indexOf(","+l+","))&&(e+=","+l,i++,n.index=i,s.push(n))}return s},this.domListAsc=function(t){for(var e=[],i=-1,s=0;s<t.length;s++){for(var r,l=void 0,n=0;n<t.length;n++){var a=t[n];null!=a&&(null==l||a.x<l.x)&&(l=a,r=n)}i++,l.index=i,e.push(l),t[r]=void 0}return e},this.serchDocument=function(t,e,i,s,r){for(var l=!1,n=[],a=0,o=0,h=!1,u=e;u<=i;u++){var f=this.htmlArr[u];if(null!=f)if(l&&this.checkEndSelector(f,t)&&a==f.lv){l=!1,h&&(n[n.length-1].y=u);for(var h=!1,c=this.serchDocument(t,o+1,u,s,r),m=0;m<c.length;m++)n.push(c[m])}else if(this.checkStartSelector(f,t,s)&&0==l){2==f.tagpair&&(l=!0,a=f.lv);for(var o=u,d=!0,m=0;m<r.length;m++){var p=r[m].name,g=r[m].value,b=r[m].action,x=r[m].myaction;if(""!=p&&(null!=(p=this.handleLabelParam(f,p))&&("NOUL"==x?p=p.toLowerCase():"TRIM"==x?p=p.trim():"NOULTRIM"==x&&(p=p.toLowerCase().trim())),"^"==b?null!=p&&p.substr(0,g.length)==g||(d=!1):"|"==b?null!=p&&(p+"-").substr(0,g.length+1)==g+"-"||(d=!1):"$"==b?null!=p&&p.substr(-1*g.length)==g||(d=!1):"~"==b?null!=p&&-1!=(" "+p+" ").indexOf(" "+g+" ")||(d=!1):"*"==b?null!=p&&-1!=p.indexOf(g)||(d=!1):"!"==b?p==g&&(d=!1):null!=p&&"*"==g?d=!0:p!=g&&(d=!1)),0==d)break}d&&(n.push({index:n.length,x:u,y:u}),2==f.tagpair)&&(h=!0)}}return n},this.checkStartSelector=function(t,e,i){if(""!=t.label){var s=e+" ",r=t.label.substr(0,1),l=e.substr(0,1);if("/"!=r){if("*"==l)return"."==i.type?null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a.toLowerCase()+" ").indexOf(" "+i.name+" "):"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name;if("#"==l){var n=e.substr(1,s.indexOf(" ")-1);if(this.handleLabelParam(t,"id")==n)return""==i||("."==i.type?null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a.toLowerCase()+" ").indexOf(" "+i.name+" "):"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name)}else if("."==l){var a,o,n=e.substr(1,s.indexOf(" ")-1).toLowerCase();if(null==(a=" "+this.handleLabelParam(t,"class")+" "))return!1;if(-1!=(a=a.toLowerCase()).indexOf(" "+n+" "))return""==i||("."==i.type?null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a.toLowerCase()+" ").indexOf(" "+i.name+" "):"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name)}else if(t.label+" "==e.substr(0,t.label.length+1).toLowerCase()+" ")return"."==i.type?null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a.toLowerCase()+" ").indexOf(" "+i.name+" "):"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name}}return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var i=e.substr(0,1);return"*"==i||"#"==i||"."==i||t.label=="/"+e.substr(0,t.label.length-1).toLowerCase()},this.handleDomList=function(t){return"object"==this.toType(t)?null!=t.domList?t.domList:null!=t._index?[{index:0,x:t._index,y:t._index}]:[t]:"string"==this.toType(t)?this.getDocument(t):t},this.each=function(t,e){if("function"!=typeof e)return!1;t=this.handleDomList(t);for(var i=[],s=0;s<t.length;s++){var r=t[s],l=e.call(r,s,r);if(r.value=l,i.push(r),"boolean"==typeof l&&0==l)break}return i},this.find=function(t,e){if(null==t)return[];if(t=this.handleDomList(t),"object"==this.toType(e))for(var i=e.domList,s=[],r=0;r<i.length;r++)for(var l=i[r].x,n=i[r].y,a=0;a<t.length;a++){var o=t[a].x,h=t[a].y;o<=l&&l<=h&&s.push(i[r])}else for(var u,s=[],a=0;a<t.length;a++)(l=t[a].x)!=(n=t[a].y)&&(u=this.getDocument(e,l,n),s=s.concat(u));return this.delDomListDuplicate(s)},this.add=function(t,e){t=this.handleDomList(t=null==t?[]:t);var i=[];return"number"==typeof e||"function"==typeof e||null==e||""==(i="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument(e+=""))?t:(e=[],e=t.concat(i),e=this.delDomListDuplicate(e),this.domListAsc(e))},this.not=function(t,e){t=this.handleDomList(t=null==t?[]:t);var i=[];if("number"==typeof e||"function"==typeof e)return t;if(null==e)return t;if(""==(i="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument(e+="")))return t;for(var s=[],r=0,l=0;l<t.length;l++){for(var n=t[l],a=!0,o=0;o<i.length;o++){var h=i[o];if(h.x==n.x&&h.y==n.y){a=!1;break}}a&&(n.index=r++,s.push(n))}return s},this.is=function(t,e){t=this.handleDomList(t=null==t?[]:t);var i=[];if("number"!=typeof e&&"function"!=typeof e&&null!=e&&""!=(i="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument(e+="")))for(var s=0;s<t.length;s++)for(var r=t[s],l=0;l<i.length;l++){var n=i[l];if(n.x==r.x&&n.y==r.y)return!0}return!1},this.text=function(t,e){var i="get",t=this.handleTextHtml(t,e,"text",i=2<=arguments.length?"set":i);return t=null==t?"":t},this.html=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"html",i)},this.htmlwrap=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"htmlwrap",i)},this.handleTextHtml=function(t,e,i,s){if(null!=t&&!((t=this.handleDomList(t)).length<=0)){var r=this.toType(e);if("function"==r){for(var l=this.each(t,e),n=0;n<l.length;n++)l[n]&&this.handleTextHtml(l[n],l[n].value,i,s);return!1}if("set"==s){if("undefined"==r)return;if(null==e)e="";else if("boolean"==r&&"text"!=i)0==e?e="":e+="";else if("array"==r&&"text"!=i){for(var a="",n=0;n<e.length;n++)a+=e[n];e=a}else"object"==r&&"text"!=i||"number"==r&&e+""=="NaN"&&"text"!=i?e="":e+="";"text"==i&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}for(a="",n=0;n<t.length;n++)if(null!=t[n])for(var o=t[n].x,h=t[n].y,u=o;u<=h;u++){var f=this.htmlArr[u];if(f)if("text"==i)u==o?"get"==s&&(a+=f.downHtml):u<h?"set"==s?delete this.htmlArr[u]:a+=f.upHtml+f.downHtml:u==h&&("get"==s?a+=f.upHtml:f.upHtml=e);else if(u==o)"get"==s?("htmlwrap"==i&&(a+=f.html),a+=f.downHtml):"htmlwrap"==i&&(f.html="",u==h)&&(f.upHtml+=e);else if(u<h)"set"==s?delete this.htmlArr[u]:a+=f.upHtml+f.html+f.downHtml;else if(u==h)if("get"==s){if(a+=f.upHtml,"htmlwrap"==i&&(a+=f.html),"get"==s)return a}else f.upHtml=e,"htmlwrap"==i&&(f.html="")}return"get"==s?a:void 0}},this.handleCssParam=function(t,e,i){var s,r,l;if(null==i)return r="a{"+(l=null==(l=this.attr(t,"style"))?"":l)+"}",$xytcss("a").parse(r).css(e);i+="",s=l=null==(l=this.attr(t,"style"))?"":l,r="a{"+l+"}",$xytcss("a").parse(r).css(e,i),l=(l=$xytcss().print()).substr(2,l.length-3).trim(),s.trim()!=l&&(2<=l.split(";").length&&(l=l.replace(/ /g,"").replace(/:/g,": ").replace(/;/g,"; ").trim()),this.attr(t,"style",l))},this.css=function(t,e,i){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"css",s)},this.attr=function(t,e,i){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"attr",s)},this.prop=function(t,e,i){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"prop",s)},this.handleCssAttr=function(t,e,i,s,r){if("function"==this.toType(i)){"attr"==s&&(e=e.toLowerCase());for(var l=this.each(t,i),n=0;n<l.length;n++)l[n]&&this.handleCssAttr(l[n],e,l[n].value,s,r);return!1}if("object"==this.toType(e)){for(var a in e){var o=a;"attr"==s&&(o=a.toLowerCase()),this.handleCssAttr(t,o,e[a],s,r)}return this}if(null!=t&&null!=e&&-1==(e+="").indexOf(" ")&&""!=e){"attr"==s&&(e=e.toLowerCase()),t=this.handleDomList(t);for(n=0;n<t.length;n++){var h=t[n];if("attr"==s){if("get"==r)return this.handleLabelParam(this.htmlArr[h.x],e);this.handleLabelParam(this.htmlArr[h.x],e,i)}else if("prop"==s){var u=this.htmlArr[h.x],f=this.checkTagAttrExist(u.label,e);if("get"==r)return 0==f?void 0:this.handleLabelParam(u,e);f&&this.handleLabelParam(u,e,i)}else{if("get"==r)return this.handleCssParam(h,e);this.handleCssParam(h,e,i)}}}},this.data=function(t,e,i){if(null==t||null==e)return!1;if(""!=e.trim()){e="data_"+e;var s="get",r=(t=this.handleDomList(t)).length;"get"==(s=3<=arguments.length?"set":s)&&(r=1);for(var l=0;l<r;l++){var n=this.htmlArr[t[l].x];if(n){if("get"==s)return n[e];n[e]=i}}}},this.removeAttr=function(t,e){if(null==t||null==e)return!1;if(""==e.trim())return!1;t=this.handleDomList(t);for(var i=e.split(" "),s=0;s<i.length;s++){var r=i[s];""!=r&&this.attr(t,r,"")}return!0},this.val=function(t,e){if(null!=t){var i=this.toType(e);if("function"==i){for(var s=this.each(t,e),r=0;r<s.length;r++)s[r]&&this.val(s[r],s[r].value);return!1}t=this.handleDomList(t);var l="get";if(2<=arguments.length){if(l="set","undefined"==i)return;null==e?e="":e+=""}if("get"==l){if(o=0<t.length?this.htmlArr[t[0].x]:o){if("textarea"==o.label)return this.html(t[0]);if("select"!=o.label)return this.handleLabelParam(o,"value");for(var n=(c=this.getDocument("option",h,u)).length,a=0;a<n;a++)c[a].x==c[a].y||null==this.attr(c[a],"selected")&&null!=f||(f=this.attr(c[a],"value"));return f}}else for(r=0;r<t.length;r++)if(null!=t[r]){var o,h=t[r].x,u=t[r].y;if(o=this.htmlArr[h])if(h!=u)if("textarea"==o.label)this.html(t[r],e);else if("select"==o.label)for(var f,c=this.getDocument("option",h,u),a=0;a<c.length;a++)c[a].x!=c[a].y&&(this.attr(c[a],"value")==e?this.attr(c[a],"selected","selected"):this.attr(c[a],"selected",null));else this.attr(t[r],"value",e);else this.attr(t[r],"value",e)}}},this.remove=function(t,e,i){var s="",r=!1;if(2==arguments.length?"string"==typeof e?s=e:"boolean"==typeof e&&(r=e):3==arguments.length&&("string"==typeof e&&(s=e),"boolean"==typeof i)&&(r=i),null!=t){if(null==(t=this.handleDomList(t)))return"";var l,n,a,o=[];if(null!=(l=null!=s&&-1!=(e=s.indexOf(":"))&&(a=i="",e=(s=s.substr(e+1)).indexOf("("),n=s.indexOf(")"),-1!=e&&-1!=n?(i=s.substr(0,e).toLowerCase(),n=(a=s.substr(e+1)).indexOf(")"),("'"==(e=(a=a.substr(0,n).replace(/-Space-/g," ").replace(/-MenHao-/g," ").trim()).trim()).substr(0,1)&&"'"==e.substr(e.length-1,1)||'"'==e.substr(0,1)&&'"'==e.substr(e.length-1,1))&&(a=e.substr(1,e.length-2))):i=s.toLowerCase(),"contains"==i)?a:l)){for(var h=0;h<t.length;h++)(u=t[h]).x!=u.y&&-1!=this.text(u).indexOf(l)&&o.push(u);t=o}for(h=0;h<t.length;h++)for(var u,f=t[h].x,c=t[h].y,m=f;m<=c;m++)(u=this.htmlArr[m])&&(m==f?(u.html="",u.label="",r&&(u.upHtml="")):delete this.htmlArr[m]);return t}},this.addClass=function(t,e){var i=this.toType(e);if("function"==i){for(var s=this.each(t,e),r=0;r<s.length;r++)s[r]&&this.addClass(s[r],s[r].value);return!1}if(null!=t){if(t=this.handleDomList(t),"number"==i)return!1;if(null==t||null==e)return!1;if(this.common.isArray(e))var l=e;else{if(""==(e=(e+"").trim()))return!1;l=e.split(" ")}for(r=0;r<t.length;r++){for(var n=t[r],a=null!=(a=this.attr(n,"class"))?a.trim():"",o=0;o<l.length;o++)""!=l[o]&&-1==(" "+a+" ").indexOf(" "+l[o]+" ")&&(""!=a&&(a+=" "),a+=l[o]);this.attr(n,"class",a)}}},this.hasClass=function(t,e){if("number"!=typeof e&&null!=t&&null!=e&&""!=(e=e.trim())&&null!=t){t=this.handleDomList(t);for(var i=0;i<t.length;i++){var s=null!=(s=this.attr(t[i],"class"))?s.trim():"";if(""!=s&&-1!=(" "+s+" ").indexOf(" "+e+" "))return!0}}return!1},this.removeClass=function(t,e){if("function"==this.toType(e)){for(var i=this.each(t,e),s=0;s<i.length;s++)i[s]&&this.removeClass(i[s],i[s].value);return!1}if(null!=t){if(t=this.handleDomList(t),"array"==this.toType(e))var r=e;else{if(null==t||null==e)return!1;if(""==(e=(e+"").trim()))return!1;r=e.split(" ")}for(s=0;s<t.length;s++){var l=t[s];if(null!=(n=this.attr(l,"class"))){for(var n=" "+(n=n.trim())+" ",a=0;a<=r.length-1;a++)""!=r[a]&&(n=n.replace(" "+r[a]+" "," "));this.attr(l,"class",n.trim())}}}},this.wrap=function(t,e,i){if(null!=t){t=this.handleDomList(t);for(var s=0;s<t.length;s++){var r=t[s].x,l=t[s].y;this.htmlArr[r].upHtml+=e,this.htmlArr[l].downHtml+=i}return this}},this.unwrap=function(t){if(null!=t){t=this.handleDomList(t);for(var e=0;e<t.length;e++){for(var i=t[e].x,s=t[e].y,r=this.htmlArr[i].lv-1,l=i;0<=l;l--){var n=this.htmlArr[l];if("object"==typeof n&&this.htmlArr[l].lv==r){n.html="";break}}for(l=s;l<=this.htmlArr.length-1;l++){n=this.htmlArr[l];if("object"==typeof n&&this.htmlArr[l].lv==r){n.html="";break}}}return this}},this.append=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.each(t,e),s=0;s<i.length;s++)i[s]&&this.append(i[s],i[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++){var r=t[s].x,l=t[s].y;r!=l?this.htmlArr[l]&&(this.htmlArr[l].upHtml+=e):this.htmlArr[r]&&(this.htmlArr[r].downHtml+=e)}return this},this.prepend=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.each(t,e),s=0;s<i.length;s++)i[s]&&this.prepend(i[s],i[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++){var r=this.htmlArr[t[s].x];r.downHtml=e+r.downHtml}return this},this.after=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.each(t,e),s=0;s<i.length;s++)i[s]&&this.after(i[s],i[s].value);return!1}"object"==this.toType(t)&&(t=[t]);for(s=0;s<t.length;s++){var r=this.htmlArr[t[s].y];r.downHtml=e+r.downHtml}return this},this.before=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.each(t,e),s=0;s<i.length;s++)i[s]&&this.before(i[s],i[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++)this.htmlArr[t[s].x].upHtml+=e;return this},this.next=function(t){t=this.handleDomList(t);for(var e=0;e<t.length;e++)for(var i=this.htmlArr[t[e].x],s=-1,r=i._index+1;r<=this.htmlArr.length-1;r++){var l=this.htmlArr[r];if(l){if(l.lv<i.lv)break;if(-1!=s){if(i.lv==l.lv&&"/"==l.label.substr(0,1))return{index:0,x:s,y:l._index}}else if(i.lv==l.lv&&"/"!=l.label.substr(0,1)){if(1==l.tagpair)return{index:0,x:l._index,y:l._index};s=l._index}}}return[]},this.nextAll=function(t){t=this.handleDomList(t);for(var e=[],i=-1,s=0;s<t.length;s++)for(var r=this.htmlArr[t[s].x],l=-1,n=r._index+1;n<=this.htmlArr.length-1;n++){var a=this.htmlArr[n];if(a){if(a.lv<r.lv)break;-1!=l?r.lv==a.lv&&"/"==a.label.substr(0,1)&&(e.push({index:++i,x:l,y:a._index}),l=-1):r.lv==a.lv&&"/"!=a.label.substr(0,1)&&(1==a.tagpair?e.push({index:++i,x:a._index,y:a._index}):l=a._index)}}return e},this.prev=function(t){t=this.handleDomList(t);for(var e=0;e<t.length;e++)for(var i=this.htmlArr[t[e].x],s=-1,r=i._index-1;0<=r;r--){var l=this.htmlArr[r];if(l){if(l.lv<i.lv)break;if(-1!=s){if(i.lv==l.lv&&"/"!=l.label.substr(0,1))return{index:0,x:l._index,y:s}}else if(i.lv==l.lv&&"/"==l.label.substr(0,1)){if(1==l.tagpair)return{index:0,x:l._index,y:l._index};s=l._index}}}return[]},this.prevAll=function(t,e){t=this.handleDomList(t),null==e&&(e="desc");for(var i=[],s=0;s<t.length;s++)for(var r=this.htmlArr[t[s].x],l=-1,n=r._index-1;0<=n;n--){var a=this.htmlArr[n];if(a){if(a.lv<r.lv)break;-1!=l?r.lv==a.lv&&"/"!=a.label.substr(0,1)&&(i.push({index:0,x:a._index,y:l}),l=-1):r.lv==a.lv&&"/"==a.label.substr(0,1)&&(1==a.tagpair?i.push({x:a._index,y:a._index}):l=a._index)}}return i="asc"==e?this.domListAsc(i):i},this.parent=function(t){t=this.handleDomList(t);for(var e=[],i=0;i<t.length;i++){for(var s=this.htmlArr[t[i].x],r=-1,l=-1,n=s._index-1;0<=n;n--){var a=this.htmlArr[n];if(a&&s.lv-1==a.lv&&"/"!=a.label.substr(0,1)){r=a._index;break}}for(n=s._index+1;n<=this.htmlArr.length-1;n++){a=this.htmlArr[n];if(a&&s.lv-1==a.lv&&"/"==a.label.substr(0,1)){l=a._index;break}}-1!=r&&e.push({x:r,y:l})}return e},this.parents=function(t){t=this.handleDomList(t);for(var e=[],i=0;i<t.length;i++){for(var s=this.htmlArr[t[i].x],r=-1,l=-1,n=s._index-1;0<=n;n--){var a=this.htmlArr[n];if(a&&s.lv-1==a.lv&&"/"!=a.label.substr(0,1)){r=a._index;break}}for(n=s._index+1;n<=this.htmlArr.length-1;n++){a=this.htmlArr[n];if(a&&s.lv-1==a.lv&&"/"==a.label.substr(0,1)){l=a._index;break}}-1!=r&&(e.push({x:r,y:l}),e=e.concat(this.parents([{x:r,y:l}])))}return this.delDomListDuplicate(e)},this.children=function(t){t=this.handleDomList(t);for(var e,i=[],s=0,r=0;r<t.length;r++){var l=t[r].x,n=t[r].y;if(l!=n)for(var a=this.htmlArr[l],o=l+1;o<n;o++){var h=this.htmlArr[o];h&&a&&h.lv-a.lv==1&&(2==h.tagpair?-1!=h.label.indexOf("/")?i.push({index:s++,x:e,y:h._index}):e=h._index:i.push({index:s++,x:h._index,y:h._index}))}}return i},this.closest=function(t,e){t=this.handleDomList(t);for(var i=[],s=0,r=0;r<t.length;r++){var l=t[r].x,n=(t[r].y,this.htmlArr[l]);if("string"==typeof e)for(var a=this.getDocument(e),o=a.length-1;0<=o;o--){var h=a[o].x,u=a[o].y;if(h!=u){var f=this.htmlArr[h];if(h<l&&f.lv-n.lv==-1){i.push({index:s++,x:h,y:u});break}}}}return i},this.filter=function(t,e){t=this.handleDomList(t);for(var i=[],s=0;s<t.length;s++){var r=t[s].x,l=t[s].y;this.htmlArr[r];"string"==typeof e&&(r=this.getDocument(e,r,l),i=i.concat(r))}return this.delDomListDuplicate(i)},this.eq=function(t,e){return t=this.handleDomList(t),"array"==this.toType(t)&&(null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1),-1.1!=e)?(e=e<0?t.length+e:e)>t.length?"":[t[e]]:[]},this.slice=function(t,e,i){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if(null==e&&null==i)return t;if(isNaN(e)?e=0:(e=parseInt(e))<0&&(e=t.length- -1*e),null==i?i=t.length:isNaN(i)?i=-1:(i=parseInt(i))<0&&(i=t.length- -1*i),e+""=="NaN"||i+""=="NaN")return t;for(var s=[],r=0;r<t.length;r++)e<=r&&r<i&&s.push(t[r]);return s},this.show=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.x!=i.y&&this.css(i,"display","")}return this},this.hide=function(t){if(t=this.handleDomList(t),"array"==this.toType(t))for(var e=0;e<t.length;e++){var i=t[e];i.x!=i.y&&this.css(i,"display","none")}return[]},this.dom=function(t,e,i,s){1!=(i=null==i?-1:i)&&2!=i&&(i=-1),""!=e&&(e="|"+e+"|");var r=(s=null==s?"":s).split(" ");if(t=this.handleDomList(t),"array"!=this.toType(t))return[];for(var l="",n=0;n<t.length&&!(0<n);n++){var a=t[n].x,o=t[n].y;if(a!=o)for(var h=a;h<=o;h++){var u=this.htmlArr[h];if(u){var f="";if(-1!=e.indexOf("label"))for(var c=0;c<=r.length-1;c++){var m,d=r[c];""!=d&&null!=(m=this.attr(u,d))&&(f+=" "+d+'="'+m+'"')}i!=u.tagpair&&-1!=i||(h==a||h==o?-1!=e.indexOf("all")&&(-1!=e.indexOf("label")?""!=u.label&&(l+="<"+u.label+f+">"):l+=u.html):h<o&&(-1!=e.indexOf("label")?""!=u.label&&(l+="<"+u.label+f+">"):l+=u.html))}}}return l},this.getLv=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.htmlArr[t[0].x];if(t)return t.lv}},this.getLabel=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.htmlArr[t[0].x];if(t)return t.label}},this.printHTML=function(t){for(var e="",i=0,s=-1!=(t=","+(t=null==t?"":t).replace(/\|/g,",").replace(/\s/g,"")+",").indexOf(",color,")?"<br>":"\n",r=-1!=t.indexOf(",color,")?"&nbsp;&nbsp;&nbsp;&nbsp;":"    ",l=0;l<=this.htmlArr.length-1;l++){var n,a,o,h=this.htmlArr[l];h&&(-1!=t.indexOf(",format,")?(o=h.upHtml.trim(),n=h.downHtml.trim(),a=h.html.trim(),-1!=t.indexOf(",color,")&&(o=this.htmlColor(this.common.htmlTranscoding(o)),n=this.htmlColor(this.common.htmlTranscoding(n)),a=""==h.label?this.common.htmlTranscoding(a):this.htmlColor(a)),"html"==h.label?i=-1:"head"!=h.label&&"body"!=h.label||(o+=s),e+=o+(a=""!=a&&(o=!0,2==h.tagpair?"/"==h.label.substr(0,1)&&(o=this.upCheckThisLabel(h)):-1!=this.singleLabelList.indexOf("|"+h.label+"|")&&(o=!1),o)?s+this.common.copyStr(r,h.lv-1+i)+a:a)+n):-1!=t.indexOf(",zip,")?e+=h.upHtml.trim()+h.html.trim()+h.downHtml.trim():-1!=t.indexOf(",color,")?(o=this.htmlColor(this.common.htmlTranscoding(h.upHtml)),a=this.htmlColor(this.common.htmlTranscoding(h.downHtml)),e+=o+(""==h.label?this.common.htmlTranscoding(h.html):this.htmlColor(h.html))+a):e+=h.upHtml+h.html+h.downHtml)}return-1!=t.indexOf(",format,")&&(e=e.trim()),e=-1!=t.indexOf(",color,")?"<div style='font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;padding: 0.2em;margin: 0;font-size: 14px;'>"+e+"</div>":e},this.upCheckThisLabel=function(t){if("/head"==t.label||"/body"==t.label)return!0;for(var e=t._index-1;0<=e;e--){var i=this.htmlArr[e];if(i){if(i.lv==t.lv)return!1;if(2==i.tagpair||"img"==i.label)return!0;if(-1!=(i.upHtml+i.downHtml).indexOf("\n"))return!0}}return!1},this.getDelHtml=function(){for(var t="",e=0;e<=this.htmlArr.length-1;e++){var i=this.htmlArr[e];i&&("/"!=i.label.substr(0,1)&&(t+=i.upHtml.trim()),t+=i.downHtml.trim())}return t},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.htmlArr)},this.info=function(){console.log("%c xiyueta%c v"+_xyt.version+" website: www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000")}}),_xyt=new _XIYUETA,xiyueta=function(t,e,i){return new xiyueta.fn.init(t,e,i)};function XiyuetaCommon(){this.copyStr=function(t,e){for(var i="",s=1;s<=e;s++)i+=t;return i},this.timeFormat=function(t,e){var i,s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[i]:("00"+s[i]).substr((""+s[i]).length)));return e},this.secondToDate=function(t){t=parseFloat(t)/1e3;return t=null!=t&&""!=t?60<t&&t<3600?parseInt(t/60)+" 分钟 "+parseInt(60*(parseFloat(t/60)-parseInt(t/60)))+" 秒 ":3600<=t&&t<86400?parseInt(t/3600)+" 小时 "+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+" 分钟 "+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))+" 秒 ":parseInt(t)+" 秒 ":t},this.bystesLength=function(t){for(var e=0,i=0;i<t.length;i++)255<t.charCodeAt(i)?e+=2:e++;return e},this.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},this.renderSize=function(t){var e,i;return null==t||""==t?"0 Bytes":(e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),i=0,t=parseFloat(t),i=Math.floor(Math.log(t)/Math.log(1024)),(t/Math.pow(1024,i)).toFixed(2)+e[i])},this.isArray=function(t){return"object"==typeof t&&t.constructor==Array},this.toTrimLCase=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},this.htmlTranscoding=function(t){return t.replace(/\t/g,"    ").replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g," <br>")}}xiyueta.fn=xiyueta.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyueta.extend=xiyueta.fn.extend=function(){var t,e,i,s=arguments[0]||{},r=1,l=arguments.length;for(r===l&&(s=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&void 0!==i&&(s[e]=i);return s},(init=xiyueta.fn.init=function(t,e,i){this.length=0,this.selector=t,this.domList=[],this.x=e,this.y=i,this.domListArray=[],0<_xyt.htmlArr.length&&("string"==typeof t?(this.domList=_xyt.getDocument(t,e,i),this.length=this.domList.length):"object"==typeof t&&(this.domList=t,this.length=1,this.selector="")),null==this.selector&&(this.selector="")}).prototype=xiyueta.fn,($=$xyt=xiyueta).fn.extend({parse:function(t,e){return _xyt.parseHTML(t),1==(e=null!=e||0==_xyt.lv&&1!=_xyt.isHtmlErr?e:!0)&&0<(t=this.repair(!1)).err&&""!=t.errList&&1==t.state&&(_xyt.parseHTML(this.print()),this.repairHTML=!0),0<_xyt.htmlArr.length&&"string"==typeof this.selector&&(this.domList=_xyt.getDocument(this.selector,this.x,this.y),this.length=this.domList.length),this},find:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.find(this.domList,t),this.length=this.domList.length,this.selector="",this},add:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.add(this.domList,t),this.length=this.domList.length,this.selector="",this},not:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.not(this.domList,t),this.length=this.domList.length,this.selector="",this},is:function(t){return _xyt.is(this.domList,t)},text:function(t){return 1<=arguments.length?(_xyt.text(this.domList,t),this):_xyt.text(this.domList)},html:function(t){return 1<=arguments.length?(_xyt.html(this.domList,t),this):_xyt.html(this.domList)},attr:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.attr(this.domList,t,e),this):""!=t.trim()?_xyt.attr(this.domList,t):void 0},prop:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.prop(this.domList,t,e),this):""!=t.trim()?_xyt.prop(this.domList,t):void 0},data:function(t,e){if(null!=t)return 2<=arguments.length?(_xyt.data(this.domList,t,e),this):_xyt.data(this.domList,t)},removeAttr:function(t){return _xyt.removeAttr(this.domList,t),this},getLabelParamList:function(){return _xyt.getLabelParamList(this.domList)},val:function(t){return null==t?_xyt.val(this.domList):(_xyt.val(this.domList,t),this)},remove:function(t){t=_xyt.remove(this.domList,t);return t!=this.domList&&(this.domList=t,this.length=this.domList.length),this},each:function(t){return _xyt.each(this.domList,t),this},css:function(t,e){return null==e&&"object"!=typeof t?_xyt.css(this.domList,t):(_xyt.css(this.domList,t,e),this)},print:function(t){return _xyt.printHTML(t)},debug:function(t){return _xyt.debug(t),this}}),xiyueta.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],s=0;s<this.domList.length;s++)s%2==0&&((t=this.domList[s]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],s=0;s<this.domList.length;s++)s%2==1&&((t=this.domList[s]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},slice:function(t,e){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e),this.length=this.domList.length,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},addClass:function(t){return _xyt.addClass(this.domList,t),this},hasClass:function(t){return _xyt.hasClass(this.domList,t)},removeClass:function(t){return _xyt.removeClass(this.domList,t),this},wrap:function(t,e){if("function"==typeof t)for(var i=_xyt.each(this.domList,t),s=0;s<=i.length-1;s++)(u=i[s])&&this.wrap(u.value,u.domList);else{var r=new _XIYUETA,l=0,n=(r.parseHTML(t),r.repairHTML(!1),r.printHTML());t!=n&&r.parseHTML(n);for(s=0;s<=r.htmlArr.length-1;s++)(u=r.htmlArr[s]).lv>l&&2==u.tagpair&&(l=u.lv);for(var a="",o="",h=!1,s=0;s<=r.htmlArr.length-1;s++){var u,f=(u=r.htmlArr[s]).upHtml;"/"==u.label.substr(0,1)&&u.lv==l&&(h=!0,a+=f,f=""),0==h?a+=f+u.html:o+=f+u.html}null==e&&(e=this.domList),_xyt.wrap(e,a,o)}return this},unwrap:function(){return _xyt.unwrap(this.domList),this},append:function(t){return _xyt.append(this.domList,t),this},prepend:function(t){return _xyt.prepend(this.domList,t),this},after:function(t){return _xyt.after(this.domList,t),this},before:function(t){return _xyt.before(this.domList,t),this},show:function(){return _xyt.show(this.domList),this},hide:function(){return _xyt.hide(this.domList),this},next:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.next(this.domList),this.length=this.domList.length,this},nextAll:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.nextAll(this.domList),this.length=this.domList.length,this},prev:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prev(this.domList),this.length=this.domList.length,this},prevAll:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList),this.length=this.domList.length,this},siblings:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList,"asc").concat(_xyt.nextAll(this.domList)),this.length=this.domList.length,this},parent:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parent(this.domList),this.length=this.domList.length,this},parents:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parents(this.domList),this.length=this.domList.length,this},children:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.children(this.domList),this.length=this.domList.length,this},closest:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.closest(this.domList,t),this.length=this.domList.length,this},filter:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.filter(this.domList,t),this.length=this.domList.length,this},replaceWith:function(t){var e;return"object"==typeof(t=null==t?"":t)&&null!=t.domList&&(e=t.domList,t=_xyt.htmlwrap(t.domList,""),_xyt.remove(e)),this.htmlwrap(t),this},index:function(t){if(""==t||null==t)return("array"==_xyt.toType(this.domList)?this.domList[0]:this.domList).index;t=xiyueta(t).domList;if(null!=t&&0!=t.length)for(var e=t[0],i=0;i<this.domList.length;i++){var s=this.domList[i];if(s.x==e.x&&s.y==e.y)return s.index}return-1},get:function(t){var e;return 1<=arguments.length?(e=[],"array"==_xyt.toType(this.domList)?e=this.domList:e.push(this.domList),e[t=t<0?e.length+t:t]):0!=this.domList.length?this.domList:void 0},toArray:function(){return this.domList},empty:function(){return this.html("")},htmlwrap:function(t){return 1<=arguments.length?(_xyt.htmlwrap(this.domList,t),this):_xyt.htmlwrap(this.domList)},dom:function(t){return _xyt.dom(this.domList,"",t)},domwrap:function(t){return _xyt.dom(this.domList,"all",t)},domlabel:function(t,e){return _xyt.dom(this.domList,"label|",t,e)},domlabelwrap:function(t,e){return _xyt.dom(this.domList,"all|label",t,e)},getlabel:function(){return _xyt.getLabel(this.domList)},getlv:function(){return _xyt.getLv(this.domList)},findlv:function(t){return this.find(":lv("+t+")"),this},note:function(t){null==t&&(t="");for(var e=_xyt.handleDomList(this.domList),i=0;i<e.length;i++){var s=e[i],r=xiyueta(s).htmlwrap();xiyueta(s).htmlwrap("\x3c!--"+t+r+"--\x3e")}return this},vue:function(s){this.domList;var t=xiyueta(this.domList).find("*");return console.log("list",t),t.each(function(t){var e,i=xiyueta(this).attr("v-text");null!=i&&(""!=(i=i.trim())&&(e=s.data[i],xiyueta(this).text(e)),xiyueta(this).removeAttr("v-text")),null!=(i=xiyueta(this).attr("v-html"))&&(""!=(i=i.trim())&&(e=s.data[i],xiyueta(this).html(e)),xiyueta(this).removeAttr("v-html")),null!=(i=xiyueta(this).attr("v-if"))&&(""!=(i=i.trim())&&0==s.data[i]&&xiyueta(this).htmlwrap(""),xiyueta(this).removeAttr("v-if")),console.log(t,xiyueta(this).htmlwrap(),xiyueta(this).attr("v-text"))}),this}}),_XIYUETA.prototype.checkTagAttrExist=function(t,e){null==this.tagNameAttrArr&&(this.tagNameAttrArr=[{name:"|a|",value:"|id|class|name|style|href|title|type|shape|coords|target|",count:1},{name:"|map|",value:"|id|class|name|style|title|",count:1},{name:"|area|",value:"|id|class|style|href|title|alt|shape|coords|target|",count:1},{name:"|li|",value:"|id|class|style|title|type|value|",count:1},{name:"|img|",value:"|id|class|name|style|src|title|alt|width|height|border|",count:1},{name:"|audio|",value:"|id|class|style|src|title|loop|",count:1},{name:"|base|",value:"|id|class|style|href|title|target|",count:1},{name:"|body|",value:"|id|class|style|title|background|",count:1},{name:"|basefont|",value:"|id|class|style|title|color|size|",count:1},{name:"|button|",value:"|id|class|name|style|title|type|value|",count:1},{name:"|video|",value:"|id|class|style|src|title|loop|width|height|",count:1},{name:"|input|",value:"|id|class|name|style|src|title|alt|type|width|height|value|",count:1},{name:"|select|",value:"|id|class|name|style|title|size|",count:1},{name:"|form|",value:"|id|class|name|style|title|action|method|target|",count:1},{name:"|ol|ul|",value:"|id|class|style|title|type|",count:2},{name:"|table|table|",value:"|id|class|style|title|width|border|",count:2},{name:"|td|canvas|th|td|",value:"|id|class|style|title|width|height|",count:4},{name:"|abbr|acronym|address|div|span|b|p|br|tr|article|h1|h2|h3|h4|h5|h6|h7|h8|h9|aside|head|title|bdi|bdo|big|blockquote|caption|center|cite|em|strong|dfn|code|samp|kbd|var|wbr|",value:"|id|class|style|title|",count:37}]);for(var i=0;i<this.tagNameAttrArr.length;i++){var s=this.tagNameAttrArr[i];if(-1<s.name.indexOf("|"+t+"|")&&-1<s.value.indexOf("|"+e+"|"))return!0}return-1<"|id|class|title|style|".indexOf("|"+e+"|")},_XIYUETA.prototype.swap=function(t,e){if(null==t||null==e)return!1;"object"==this.toType(t)&&(t=[t]);var i,s=[],s="object"==this.toType(s)?null!=s.domList?s.domList:[s]:this.getDocument(e);return 0!=t.length&&0!=s.length&&t!=s&&(e=t[0],t=s[0],s=this.htmlwrap(e),i=this.htmlwrap(t),this.htmlwrap(e,i),this.htmlwrap(t,s),!0)},_XIYUETA.prototype.getItem=function(t,e){if(null==t)return"";null==e&&(e=""),"object"==this.toType(t)&&(t=[t]);for(var i=[],s=0;s<t.length;s++){obj=t[s];var r=!0;""!=e?(obj.value=this.handleLabelParam(this.htmlArr[obj.x],e),null==obj.value&&(r=!1)):obj.value=this.htmlwrap(obj),r&&i.push(obj)}return i},_XIYUETA.prototype.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir),null!=t.urlToNameList&&(this.config.urlToNameList=t.urlToNameList),null!=t.urlDefaultFileName&&(this.config.urlDefaultFileName=t.urlDefaultFileName)},_XIYUETA.prototype.charset=function(t){for(var e=0;e<this.htmlArr.length;e++){var i=this.htmlArr[e];if(null!=i)if("meta"==i.label)if(-1!=i.html.toLowerCase().indexOf("charset=")){var s=this.handleLabelParam(i,"charset");if(null!=(s=null!=s?s.toLowerCase().trim():s))return null!=t&&this.handleLabelParam(i,"charset",t),s;if(-1!=(s=null!=(s=this.handleLabelParam(i,"content"))?s.toLowerCase().trim():s).indexOf("utf-8"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"utf-8";if(-1!=s.indexOf("gb2312"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.getHandleSrc=function(t,e,i,s){for(var r="",l=!0,n=0;n<=this.htmlArr.length-1;n++){var a,o,h,u=this.htmlArr[n];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(null==(a=this.handleLabelParam(u,e))&&(a=""),"link"!=u.label||"dns-prefetch"!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase())&&"alternate"!=o||(a=""),-1!=("|"+i+"|").indexOf("clean")?(l=!0,""!=a&&-1==a.indexOf("apps.bdimg.com/")&&(h=a=this.common.fullHttpUrl(s,a),-1!=("|"+i+"|").indexOf("web")&&""!=(a=this.common.getUrlFileName(a,u.label))&&("img"==u.label?a=this.config.imagesdir+a:"script"==u.label?a=this.config.jsdir+a:"link"==u.label?-1!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase()).indexOf("shortcut icon")?a=this.config.imagesdir+a:-1!=o.indexOf("stylesheet")?a=this.config.cssdir+a:(a="",l=!1):(l=!1,a="")),l&&""!=a&&(-1!=("|"+i+"|").indexOf("down")?(""!=r&&(r+="[,]"),r+=h+"[|]"+a):(""!=r&&(r+="[,]"),r+=a)),this.handleLabelParam(u,e,a))):""!=a&&(""!=r&&(r+="[,]"),r+=a))}return r},_XIYUETA.prototype.replace=function(t,e,i,s){for(var r,l=this.getDocument(t),n=l.split(","),a=1;a<n.length;a++)r=-1!=(l=n[a]).indexOf("|")?(r=l.split("|"),this.htmlArr[r[0]]):this.htmlArr[l],""!=e&&(l=this.handleLabelParam(r,e))==i&&this.handleLabelParam(r,e,s)},_XIYUETA.prototype.repairHTML=function(t,e){null==t&&(t=!1),null==e&&(e=0);var i=0,s=!1,r="",l=0,n=",";if(1<=this.htmlArr.length&&"no"==(a=this.htmlArr[0]).isFindDom)return!1;for(var a,o=0;o<this.htmlArr.length;o++)(a=this.htmlArr[o])&&2==a.tagpair&&("/"==a.label.substr(0,1)&&(f=a.label.substr(1),-1!=(","+n+",").indexOf(","+f+","))?n=n.replace(","+f+",",","):n+=a.label+",");for(var h=n,o=0;o<this.htmlArr.length;o++)if((a=this.htmlArr[o])&&2==a.tagpair&&"/"==a.label.substr(0,1)){var u,f=a.label.substr(1),s=!0;if(null!=(u=this.upFindSameLvObj(o,a))&&(a.label=="/"+u.label?(s=!1,this.setNoFindDom(u._index,a._index),1==e&&console.log(" 找(Lv1) "+a.label+" "+u.label+"("+a._index+"-"+u._index+")")):0==this.lv||1==u.lv&&1==a.lv&&-1==n.indexOf(","+a.label+",")?1==s&&(r="",t&&(r="\x3c!--xiyueta提示: 原标签(LV) "+a.label+" 替换成 /"+u.label+"--\x3e"),a.html="</"+u.label+">"+r,i+=2,l+=2,s=!1,this.setNoFindDom(u._index,a._index),1!=e&&2!=e||console.log(" 找(Lv2) LV整体层级正确或两标签都为第一层  "+a.label+" 替换成 /"+u.label+" ("+a._index+"-"+u._index+")")):1==e&&console.log(" 找(Lv else) 没找到，交给下面找同名 "+a.label+" ("+a._index+")")),1==s)if(null==(u=this.upFindSameNameObj(o,a)))a.html=t?"\x3c!---xiyueta提示: 有多余结束标签 "+a.label+" --\x3e":"",l++,i++,this.setNoFindDom(a._index,a._index),this.reairHtmlLv(a,1),1!=e&&2!=e||console.log(" 找(Name 出错) 有多余结束标签 "+a.label+" ("+a._index+")"),s=!1,n=n.replace(","+a.label+",",",");else{r="",t&&(u.html+="\x3c!---xiyueta提示: 有问题标签开始位置--\x3e",a.html="\x3c!---xiyueta提示: 有问题标签结束位置--\x3e"+a.html),1!=e&&2!=e||console.log(" 找(Name2 有问题) "+a.label+" 与 "+u.label+"("+a._index+"-"+u._index+") 之间有问题 ");var c="",m=(this.setNoFindDom(u._index,a._index),u.lv-a.lv);this.reairHtmlLv(a,m);for(var d=u._index+1;d<=a._index;d++){var g=this.htmlArr[d];if(g&&"/"!=g.label.substr(0,1)&&2==g.tagpair){var b=!1;for(p=g._index+1;p<=a._index;p++){var x=this.htmlArr[p];if(x&&2==x.tagpair&&"/"==x.label.substr(0,1)&&x.lv==g.lv){b=!0;break}}0==b&&(c+="</"+g.label+">",t&&(c+="\x3c!--xiyueta提示: 追加 /"+g.label+" --\x3e"),1!=e&&2!=e||console.log(" 找(Name3)  追加结束标签 /"+g.label+" ("+g._index+")"),l++,i++,n=n.replace(","+g.label+",",","))}}a.upHtml+=c}}var y=n.split(",");if(y.length>i){c="";for(o=0;o<y.length;o++)""!=y[o]&&"/"!=y[o].substr(0,1)&&(r="",t&&(r="\x3c!--xiyueta提示: 追加 /"+y[o]+" --\x3e"),c="</"+y[o]+">"+r+c,l++,i++,1!=e&&2!=e||console.log(" 最后  追加结束标签 /"+y[o]));this.htmlArr[this.htmlArr.length-1]&&(this.htmlArr[this.htmlArr.length-1].downHtml+=c)}return{lv:this.lv,err:l,repair:i,state:l==i,errList:h=","==h?"":h}},_XIYUETA.prototype.setNoFindDom=function(t,e){for(var i=t;i<=e;i++){var s=this.htmlArr[i];s&&(s.isFindDom="no")}return null},_XIYUETA.prototype.upFindSameLvObj=function(t,e){for(var i=t-1;0<=i;i--){var s=this.htmlArr[i];if(s&&"no"!=s.isFindDom&&e.lv==s.lv)return s}return null},_XIYUETA.prototype.upFindSameNameObj=function(t,e){for(var i=t-1;0<=i;i--){var s=this.htmlArr[i];if(s&&"no"!=s.isFindDom&&e.label=="/"+s.label)return s}return null},_XIYUETA.prototype.reairHtmlLv=function(t,e){for(var i=t._index;i<=this.htmlArr.length-1;i++)(t=this.htmlArr[i])&&(t.lv+=e)},_XIYUETA.prototype.htmlColor=function(t){if("</"==t.substr(0,2))return"<font color='#800000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";if("<"!=t.substr(0,1))return"<font color='#000000'>"+t+"</font>";if("\x3c!--"==t.substr(0,4))return"<font color='#999999'>"+this.common.htmlTranscoding(t)+"</font>";for(var e="",i="",s="",r=!1,l="",n="",a="",o=0;o<=t.length-1;o++){var h=t.substr(o,1);"findValueStart"==l?(r?h==s||">"==h?(n+=a+"<font color='#0000FF'>"+i+a+"</font>",r=!1,a=s=a="",l="findParamStart"):i+=h:'"'==h||"'"==h?(a+=h,s=h,r=!0):" "!=h?(s=" ",i=h,r=!0):a+="&nbsp;",">"==h&&(n=n+e+"<font color='#800000'>&gt;</font>")):"<"==h?(a="&lt;",l="findLabel"):"findLabel"==l?" "==h?(n+="<font color='#800000'>"+a+"</font> ",a="",l="findParamStart"):">"==h?n+="<font color='#800000'>"+a+"&gt;</font>":a+=h:">"==h?n=n+e+"<font color='#800000'>&gt;</font>":"findParamEnd"==l?"="==h?(l="findValueStart",n+="<font color='#FF0000'>"+e+"</font><font color='#000000'>=</font>",e=s=i=""):e+=h=" "==h?"&nbsp;":h:(l="findParamEnd",e+=h=" "==h?"&nbsp;":h)}return n},xiyueta.fullurl=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.resolve=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.getUrlDir=function(t,e){return _xyt.common.getUrlDir(t,e)},xiyueta.getUrlFileName=function(t,e){return _xyt.common.getUrlFileName(t,e)},xiyueta.setFileNameA=function(t,e){return _xyt.common.setFileNameA(t,e)},xiyueta.getUrlToFileName=function(t,e,i){return _xyt.common.getUrlToFileName(t,e,i)},xiyueta.getUrlParam=function(t,e){return _xyt.common.getUrlParam(t,e)},xiyueta.getQueryString=function(t,e){return _xyt.common.getQueryString(t,e)},xiyueta.bystesLength=function(t){return _xyt.common.bystesLength(t)},xiyueta.renderSize=function(t){return _xyt.common.renderSize(t)},xiyueta.secondToDate=function(t){return _xyt.common.secondToDate(t)},xiyueta.timeFormat=function(t,e){var i=new Date,s="yyyy-MM-dd hh:mm:ss";return 1==arguments.length?"object"==typeof t?i=t:"string"==typeof t&&(s=t):2==arguments.length&&("object"==typeof t&&(i=t),"string"==typeof e)&&(s=e),_xyt.common.timeFormat(i,s)},xiyueta.getDomain=function(t,e){return _xyt.common.getDomain(t,e)},xiyueta.getFileExt=function(t){return _xyt.common.getFileExt(t)},xiyueta.htmlColor=function(t){return _xyt.htmlColor(t)},xiyueta.lv=function(){return _xyt.lv},xiyueta.htmlerr=function(){return _xyt.isHtmlErr},xiyueta.config=function(t){t=_xyt.setConfig(t);return null==t?this:t},xiyueta.charset=function(t){return null==t?_xyt.charset():(_xyt.charset(t),this)},xiyueta.toType=function(t){return _xyt.toType(t)},xiyueta.delHtml=function(t){var e=new _XIYUETA;return e.parseHTML(t),e.getDelHtml()},xiyueta.debug=function(t){return xiyueta().debug(t)},xiyueta.load=function(t,e){return xiyueta().parse(t,e),this},xiyueta.html=function(t){return _xyt.printHTML(t)},xiyueta.log=function(){for(var t="<table><tr>",e=0;e<arguments.length;e++)t+="<td valign='top'>"+this.getLogItem(arguments[e])+"</td>";t+="</tr></table>",document.write(t)},xiyueta.getlog=function(){for(var t="<table><tr>",e=0;e<arguments.length;e++)t+="<td valign='top'>"+this.getLogItem(arguments[e])+"</td>";return t+="</tr></table>"},xiyueta.getLogItem=function(t,e){var i,s="",r="<div style='background:"+["#f3f3f3","red","blue","green","yellow"][e=null==e?0:e]+";padding:6px;'>";if("object"==this.toType(t)||"array"==this.toType(t)){for(var l in t)-1==(t[l]+"").indexOf("function")&&(i=(i=t[l]+"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),s+=void 0===(i="object"!=this.toType(t[l])&&"array"!=this.toType(t[l])?i:this.getLogItem(t[l],++e))?l+"<br>":l+":  "+i+"<br>");"array"==this.toType(t)&&(s+="length: "+t.length)}else s+=(t=(t+="").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"))+"<br>";return s=r+s+"</div>"},xiyueta.fn.extend({swap:function(t){return _xyt.swap(this.domList,t),this},item:function(t){return _xyt.getItem(this.domList,t)},handle:function(t,e,i){return _xyt.getHandleSrc(this.selector,t,e,i)},replace:function(t,e,i){return _xyt.replace(this.selector,t,e,i)},clear:function(){return this},repair:function(t,e){return _xyt.repairHTML(t,e)}}),_XIYUETA.prototype.scan=function(t){t="|"+(t=null==t?"":t)+"|";var e=0,i=[],s=!1,r="",l="",n=[],t=this.charset(),a=(r+="网页编码="+(t=null==t?"":t)+"\n",this.common.bystesLength(this.htmlSource));r+="网页大小="+this.common.getFileSize(a)+"\n";for(var o=0;o<=this.htmlArr.length-1;o++)(c=this.htmlArr[o])&&"/"!=c.label.substr(0,1)&&""!=c.label&&(-1==("|"+l+"|").indexOf("|"+c.label+"|")?(""!=l&&(l+="|"),l+=c.label,n[c.label]=1):n[c.label]++);for(var h=l.split("|"),u="",o=0;o<=h.length-1;o++){var f=h[o];u+=f+"("+n[f]+") "}for(var c,m=this.repairHTML(),d=(r=(r=(r=(r=(r+="网页LV="+this.lv+"\n")+("网页错误标签数="+m.err+"\n"))+("网页错误标签为="+m.errList+"\n"))+("网页错误标签是否可修复="+m.state+"\n"))+("网页类型标签数="+h.length+"种 "+u+"\n"),this.config.downcss=0,xiyueta("link[rel|NOUL=stylesheet]").item("href")),p=xiyueta("script").item("src"),o=0;o<=this.htmlArr.length-1;o++)null!=(c=this.htmlArr[o])&&("body"==c.label?(e=c.lv,s=!0):0==s&&-1!="|div|span|table|ul|".indexOf("|"+c.label+"|")?(i.push(c.html),s=!0):s&&c.lv-e==1&&2==c.tagpair&&"/"!=c.label.substr(0,1)&&"!--"!=c.label&&"script"!=c.label.substr(0,6)&&i.push(c.html),"link"==c.label)&&"stylesheet"==this.attr(c,"rel").toLowerCase().trim()&&(y=this.common.fullHttpUrl(this.config.httpurl,c.href));var g=xiyueta("title").text(),b=xiyueta("meta[name|NOUL=keywords]").attr("content"),x=xiyueta("meta[name|NOUL=description]").attr("content");if(xiyueta.scanConfig={charset:t,websize:a,errcount:m.err,errlist:m.errList,labellist:l,labelcount:h.length,csscount:d.length,csslist:d,jscount:p.length,jslist:p,divcount:i.length,divlist:i,webtitle:g,webkeywords:b,webdescription:x},r=(r=(r+="共有CSS文件 "+d.length+" 条\n")+("共有JS文件 "+p.length+" 条\n"))+("一层标签共 "+i.length+" 条\n")+"\n",""!=d){r+="CSS列表("+d.length+"):\n";for(o=0;o<d.length;o++){var y=d[o].value,v=xiyueta.getUrlFileName(y);patt_swiper=/swiper[-|0-9|(bundle)|\.]*(min|source|)*.css/gi,patt_animate=/animate[-|0-9|(bundle)|\.]*(min|source|)*.css/gi,patt_bootstrap=/bootstrap[-|0-9|(bundle)|\.]*(min|source|)*.css/gi,patt_aos=/aos[-|0-9|(bundle)|\.]*(min|source|)*.css/gi,patt_owlcarousel=/owl.carousel[-|0-9|(bundle)|\.|]*(min|source|)*.css/gi,patt_layui=/layui[-|0-9|(bundle)|\.|]*(min|source|)*.css/gi,patt_iconfont=/iconfont[-|0-9|(bundle)|\.|]*(min|source|)*.css/gi,1==patt_swiper.test(v)?y+="     (swiper=移动端触摸滑动)":1==patt_animate.test(v)?y+="     (animate=使用CSS3的animation制作的动画效果的CSS集合)":1==patt_bootstrap.test(v)?y+="     (bootstrap=前端开发的开源工具包bootstrap样式)":1==patt_aos.test(v)?y+="     (aos=一个用于在页面滚动的时候呈现元素动画的工具库)":1==patt_owlcarousel.test(v)?y+="     (owl.carousel=Jquery轻量级幻灯插件)":1==patt_layui.test(v)?y+="     (layui=模块化前端UI框架)":1==patt_iconfont.test(v)&&(y+="     (iconfont=矢量图标库)"),r+=y+"\n"}}if(""!=p){r+="\n\nJS列表("+p.length+"):\n";for(o=0;o<=p.length-1;o++){y=p[o].value,v=xiyueta.getUrlFileName(y);patt_JQuery=/jquery[-|0-9|\.]*(min|source|).js/gi,patt_SuperSlide=/(jquery\.|jquery-|)SuperSlide[-|0-9|\.]*(min|source|)*.js/gi,patt_swiper=/swiper[-|0-9|(bundle)|\.]*(min|source|)*.js/gi,patt_kxbdmarquee=/(jquery\.|jquery-|)kxbdmarquee[-|0-9|\.]*(min|source|)*.js/gi,patt_clipboard=/clipboard[-|0-9|(bundle)|\.]*(min|source|)*.js/gi,patt_wow=/wow[-|0-9|\.]*(min|source|).js/gi,patt_aos=/aos[-|0-9|\.]*(min|source|).js/gi,patt_owlcarousel=/owl.carousel[-|0-9|(bundle)|\.|]*(min|source|)*.js/gi,patt_layui=/layui[-|0-9|(bundle)|\.|]*(min|source|)*.js/gi,patt_bootstrap=/bootstrap[-|0-9|(bundle)|\.|]*(min|source|)*.js/gi,patt_touchslide=/touchslide[-|0-9|(bundle)|\.|]*(min|source|)*.js/gi,1==patt_JQuery.test(v)?y+="     (jQuery=操作网页DOM)":1==patt_SuperSlide.test(v)?y+="     (SuperSlide=网站特效展示)":1==patt_swiper.test(v)?y+="     (swiper=移动端触摸滑动)":1==patt_kxbdmarquee.test(v)?y+="     (kxbdmarquee=无缝滚动效果)":1==patt_clipboard.test(v)?y+="     (clipboard=浏览器内容复制到系统剪贴板)":1==patt_wow.test(v)?y+="     (wow=动画效果，配合animate.css一起使用)":1==patt_aos.test(v)?y+="     (aos=是一个用于在页面滚动的时候呈现元素动画的工具库)":1==patt_owlcarousel.test(v)?y+="     (owl.carousel=是Jquery轻量级幻灯插件)":1==patt_layui.test(v)?y+="     (layui=模块化前端UI框架)":1==patt_bootstrap.test(v)?y+="     (bootstrap=前端开发的开源工具包bootstrap)":1==patt_touchslide.test(v)&&(y+="     (touchslide=触屏滑动特效插件)"),r+=y+"\n"}}if(""!=i){r+="\n\n一层标签列表("+i.length+"):\n";for(o=0;o<=i.length-1;o++)r+=i[o]+"\n"}return r},xiyueta.fn.extend({scan:function(t){return _xyt.scan(t)}}),_XIYUETA.prototype.cutLabel=function(t,e){var i="",s="";if(0<(t=this.handleDomList(t)).length){for(var r=0;r<this.htmlArr.length;r++){var l="",n=this.htmlArr[r];if(n)if("/style"==n.label?l=n.upHtml:"link"==n.label&&"stylesheet"==(this.attr(n,"rel")+"").toLowerCase().trim()&&(l=n.content),""!=l){var a=!1,o="",h=new _XIYUETACSS;h.cssParse(l),h.debug(),0<h.lv&&alert("CSS层有错误(提取CSS可能会有错误)="+h.lv);for(var u=0;u<h.cssArr.length;u++){var f,c=h.cssArr[u];c&&(f=c.label.toLowerCase(),0!=a||1!=c.lv||-1==f.indexOf(" screen ")&&-1==f.indexOf("(max-width:")&&-1==f.indexOf("(min-width:")||-1==f.indexOf("@media")?1==a&&1==c.lv&&"}"==c.label?(a=!1,""!=i&&(s+=o+i+"}\n"),i=""):(a||1==c.lv)&&this.checkCssInHtml(t,c.label)&&(i+=c.html+"\n"):(a=!0,s+=i,i="",o=c.label+"{\n"))}s+=i}}xiyuetaCSS().parse(s),xiyuetaCSS("(all)").delrepeat(),""!=(s=xiyuetaCSS().print("format"))&&(s="<style>"+s+"\n</style>\n");var m=xiyueta(t).htmlwrap();return xiyueta.load(m),xiyueta("style").remove(),s+this.printHTML("format")}return""},_XIYUETA.prototype.checkCssInHtml=function(t,e){t=this.handleDomList(t);var i=e,s=e.indexOf("{");return""!=(e=-1<s?e.substr(0,s):e)&&(-1!=(s=","+(e=this.getCleanStyleName(e))+",").indexOf(",*,")||-1!=s.indexOf(",* ")||-1!=s.indexOf(",html,")||-1!=s.indexOf(",html ")||-1!=s.indexOf(",body,")||-1!=s.indexOf(",body ")||(s=t[0].x,t=t[0].y,s=0<xiyueta(e,s,t).length,console.log("显示",i,"=",e," = ",s),s))},_XIYUETA.prototype.getCleanStyleName=function(t){for(var e="",i=t.split(","),s=0;s<i.length;s++){var r=i[s],r=this.extractCssStyleName(r,r.lastIndexOf(":"));r=this.extractCssStyleName(r,r.lastIndexOf(":")),r=this.extractCssStyleName(r,r.lastIndexOf(":")),r=this.extractCssStyleName(r,r.lastIndexOf(":")),""!=e&&(e+=","),e+=r=this.extractCssStyleName(r,r.lastIndexOf("["))}return e},_XIYUETA.prototype.extractCssStyleName=function(t,e){var i,s,r;return 0<e&&(r=t.substr(0,e),i=(e=t.substr(e+1)).indexOf(" "),s=e.indexOf(","),t=r,-1==i&&-1==s||(r=99,-1!=i&&i<r&&(r=i),t+=e.substr(r=-1!=s&&s<r?s:r))),t},xiyueta.fn.extend({cutlabel:function(t){return _xyt.cutLabel(this.domList,t)}}),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",i=t.indexOf("://");if(-1!=i&&(e=t.substr(0,i+3),t=t.substr(i+3)),-1!=(t=-1!=(t=t.replace(/\/\//g,"/")).indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var s=[],r=0,l=t.split("/"),n=0;n<l.length;n++)".."==(a=l[n])?(0==r?r=n-1:--r,0<=r&&delete s[r]):(s.push(a),r=0);for(t="",n=0;n<s.length;n++){var a=s[n];null!=s[n]&&(""!=t&&(t+="/"),t+=s[n])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){var i,s,r,l,n;return null==e||""==(e=(e+="").replace(/\\/g,"/").trim())||"./"==e?"":(-1!=(n=(thisUrl=-1!=(n=(thisUrl=t).indexOf("?"))?thisUrl.substr(0,n):thisUrl).indexOf("#"))&&(thisUrl=thisUrl.substr(0,n)),i=l=s="",l=-1!=(n=t.indexOf("://"))?(s=t.substr(0,n+3),-1==(n=(r=t.substr(n+3)).lastIndexOf("/"))&&(n=(r+="/").lastIndexOf("/")),i=s+r.substr(0,n+1),n=r.indexOf("/"),s+r.substr(0,n+1)):(-1==(n=t.lastIndexOf("/"))&&(n=(t+="/").lastIndexOf("/")),i=t.substr(0,n+1),n=t.indexOf("/"),t.substr(0,n+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?l+e:"?"==e.substr(0,1)?thisUrl+e:i+e),this.handleFileUrl(e))},XiyuetaCommon.prototype.getUrlDir=function(t,e){if("string"!=typeof t)return"";var i;-1<(t=t.replace(/\\/g,"/").trim()).indexOf("://")&&(i=t.indexOf("://",1),t=-1!=(t=t.substring(i+3,t.length)).indexOf("/")?t.substr(t.indexOf("/")+1):""),-1!=(t=-1!=(t="/"==t.substr(0,1)?t.substr(1):t).indexOf("?")?t.substr(0,t.indexOf("?")):t).indexOf("#")&&(t=t.substr(0,t.indexOf("#")));for(var s=1;s<9&&-1!=t.indexOf("//");s++)t=t.replace(/\/\//g,"/");return-1!=t.indexOf("/")?"fz"==e?(t=t.substr(0,t.lastIndexOf("/"))).replace(/\//g,"_"):t.substr(0,t.lastIndexOf("/")+1):""},XiyuetaCommon.prototype.getUrlFileName=function(t,e){var i,s,r;return"string"!=typeof t||(-1<(t=t.replace(/\\/g,"/").trim()).indexOf("://")&&(s=t.indexOf("://",1),t=-1!=(t=t.substring(s+3,t.length)).indexOf("/")?t.substr(t.indexOf("/")+1):""),r=s="",-1!=(t=-1!=(t=(t=t.split("/"))[t.length-1]).indexOf("?")?t.substr(0,t.indexOf("?")):t).indexOf(".")?(i=t.lastIndexOf("."),s=t.substr(0,i),r=t.substr(i+1).toLowerCase()):s=t,""==s)?"":("image"==e?""==r?t+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|svg|woff2|woff|ttf|eot|cur|txt|css|ico|otf|".indexOf("|"+r+"|")&&(t=s+".jpg"):"css"==e?""==r?t+=".css":-1=="|css|".indexOf("|"+r+"|")&&(t=s+".css"):"js"==e?""==r?t+=".js":-1=="|js|".indexOf("|"+r+"|")&&(t=s+".js"):"html"==e?""==r?t+=".html":-1=="|html|htm|".indexOf("|"+r+"|")&&(t=s+".html"):(t=s,""!=r&&(t+="."+r)),t)},XiyuetaCommon.prototype.setFileNameA=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"pie")).replace(/\//g,"la")).replace(/:/g,"maohao")).replace(/\*/g,"xin")).replace(/\?/g,"wen")).replace(/"/g,"yinhao")).replace(/</g,"zou")).replace(/>/g,"you")).replace(/\|/g,"heng")).replace(/\n/g,"")},XiyuetaCommon.prototype.checkUrl=function(t){return!!/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(t=null==t?"":t)},XiyuetaCommon.prototype.getDomain=function(t,e){var i,s,r,l;return"string"==typeof t&&(i=1<=arguments.length&&1==e,-1<t.indexOf("//"))?((s=t.indexOf("//",1))<0&&(s=0,i=!1),l=(r=t.substring(s+1,t.length)+"/").indexOf("/",1),-1!=(l=(r=r.substring(1,l)).indexOf(":"))&&(r=r.substr(0,l)),1==i?t.substr(0,s+2)+r:r):""},XiyuetaCommon.prototype.getUrlToFileName=function(t,e){var i=t,s=xiyueta.config().urlToNameList,r=(null!=e&&""!=e||(e="image"),t.indexOf("?")),l=(-1!=(r=(t=-1!=r?t.substr(0,r):t).indexOf("#"))&&(t=t.substr(0,r)),""),n="\r\n"+s+"|";if(""==(l=-1==(r=n.indexOf("\r\n"+t+"|"))&&-1==(r=n.indexOf("\r\n"+i+"|"))?l:n.substr(r).split("|")[1])){l=this.getUrlFileName(t,e),"image"==e&&(e="bmp"),""==l?""==(l="_"==(l=this.getUrlDir(t+"/","fz")).substr(l.length-1,1)?l.substr(0,l.length-1):l)&&(l=xiyueta.config().urlDefaultFileName+"."+e):-1!=(r=l.lastIndexOf("."))&&(e=l.substr(r+1)),""!=e&&-1==l.indexOf(".")&&(l+="."+e);for(var a=l,o=1;o<9&&-1!=s.indexOf("|"+l+"|");o++)l=a.substr(0,a.length-e.length-1)+"_"+o+"."+e}return l=this.setFileNameA(l)},XiyuetaCommon.prototype.getUrlParam=function(t,e){if(e+="",1<(i=(t+="").split("?")).length)for(var i=i[1].split("&"),s=0;s<i.length;s++){var r,l=i[s].split("=");if(l[0]==e)return 1<(r=l[1].split("#")).length?r[0]:l[1]}return""},XiyuetaCommon.prototype.getQueryString=function(t,e){e=new RegExp("(^|&|/?)"+e+"=([^&|/?]*)(&|/?|$)","i"),t=t.substr(1).match(e);return null!=t?t[2]:null},XiyuetaCommon.prototype.getFileExt=function(t){var e=t.lastIndexOf("?");return-1!=(e=(t=-1!=e?t.substr(0,e):t).lastIndexOf("."))?t.substr(e+1):""},_XIYUETA.prototype.setTplConfig=function(t){if(null==t)return this.tplConfig;"object"==typeof t&&(null!=t.type&&(this.tplConfig.type=t.type),null!=t.minrow&&(this.tplConfig.minrow=t.minrow),this.tplConfig.nav={},this.tplConfig.subnav={},this.tplConfig.news={},this.tplConfig.link={},this.tplConfig.list={},"dedecms"==this.tplConfig.type?(this.tplConfig.webTitle="{dede:global.cfg_webname/}",this.tplConfig.webKeywords="{dede:global.cfg_keywords/}",this.tplConfig.webDescription="{dede:global.cfg_description/}",this.tplConfig.nav.for="{dede:channel type='top' row='{%row%}'}\n",this.tplConfig.nav.title="[field:typename/]",this.tplConfig.nav.url="[field:typeurl/]",this.tplConfig.nav.end="{/dede:channel}",this.tplConfig.news.for="{dede:arclist titlelen='60' row='{%row%}'}\n",this.tplConfig.news.title="[field:title/]",this.tplConfig.news.url="[field:arcurl/]",this.tplConfig.news.image="[field:image/]",this.tplConfig.news.about="[field:title/]",this.tplConfig.news.body="[field:title/]",this.tplConfig.news.time="[field:pubdate function=\"MyDate('Y-m-d H:i',@me)\"/]",this.tplConfig.news.time1="[field:pubdate function=\"MyDate('Y-m-d',@me)\"/]",this.tplConfig.news.end="{/dede:arclist}"):(this.tplConfig.webTitle="<%=webTitle%>",this.tplConfig.webKeywords="<%=webKeywords%>",this.tplConfig.webDescription="<%=webDescription%>",this.tplConfig.nav.for='<%rs.open "select * from " & db_PREFIX & "webcolumn where parentid=-1 and isthrough=1 and flags like\'%{%navtype%}%\' order by sortrank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.nav.for2='<%rs.open "select * from " & db_PREFIX & "webcolumn where parentid in("& getNameToAllId("{%did%}") &") order by sortrank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.nav.focus="<%if isFocusNav(rs) then%>\n",this.tplConfig.nav.focus2='<%=IIF(isFocusNav(rs),"{%focus%}","{%default%}")%>',this.tplConfig.nav.title='<%=uTitle & rs("columnname")%>',this.tplConfig.nav.url='<%=getNavUrl(rs("id"),rs("columntype"))%>',this.tplConfig.nav.end="<%rs.movenext:next:rs.close%>",this.tplConfig.subnav.for='<%rsx.open "select * from " & db_PREFIX & "webcolumn where parentid="& rs("id") &" and isthrough=1  order by sortrank asc" ,conn,1,1\nfor j=1 to 99\nif rsx.eof then exit for\n%>\n',this.tplConfig.subnav.for2='<%rsx.open "select * from " & db_PREFIX & "webcolumn where parentid in("& getNameToAllId("{%did%}") &") order by sortrank asc" ,conn,1,1\nfor j=1 to 99\nif rsx.eof then exit for\n%>\n',this.tplConfig.subnav.focus="<%if isFocusNav(rsx) then%>\n",this.tplConfig.subnav.focus2='<%=IIF(isFocusNav(rsx),"{%focus%}","{%default%}")%>',this.tplConfig.subnav.title='<%=uTitle & rsx("columnname")%>',this.tplConfig.subnav.url='<%=getNavUrl(rsx("id"),rsx("columntype"))%>',this.tplConfig.subnav.end="<%rsx.movenext:next:rsx.close%>",this.tplConfig.news.for='<%rs.open "select * from " & db_PREFIX & "articledetail where parentId in("& getNameToAllId("{%did%}") &") order by sortrank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.news.focus="<%if i=1 then%>\n",this.tplConfig.news.focus2='<%=IIF(i=1,"{%focus%}","{%default%}")%>',this.tplConfig.news.title='<%=uTitle & rs("title")%>',this.tplConfig.news.url='detail.asp?id=<%=rs("id")%>',this.tplConfig.news.image='<%=rs("smallimage")%>',this.tplConfig.news.about='<%=rs("aboutcontent")%>',this.tplConfig.news.body='<%=cutStr(rs("bodycontent"),260,"...")%>',this.tplConfig.news.time='<%=rs("createtime")%>',this.tplConfig.news.time1='<%=format_Time(rs("createtime"),2)%>',this.tplConfig.news.end="<%rs.movenext:next:rs.close%>",this.tplConfig.list.for='<%rs.open "select * from " & db_PREFIX & "webcolumn where isthrough=1 AND parentId="& getNavNameToID("","{%did%}") &" order by sortrank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.list.focus="<%if isFocusNav(rs) then%>\n",this.tplConfig.list.focus2='<%=IIF(isFocusNav(rs),"{%focus%}","{%default%}")%>',this.tplConfig.list.title='<%=rs("columnname")%>',this.tplConfig.list.image='<%=rs("smallimage")%>',this.tplConfig.list.url='<%=getNavUrl(rs("id"),rs("columntype"))%>',this.tplConfig.list.end="<%rs.movenext:next:rs.close%>",this.tplConfig.link.for='<%rs.open "select * from " & db_PREFIX & "friendlink where isthrough=1 order by sortrank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.link.focus="<%if i=1 then%>\n",this.tplConfig.link.title='<%=rs("title")%>',this.tplConfig.link.url='<%=rs("httpurl")%>',this.tplConfig.link.image='<%=rs("smallimage")%>',this.tplConfig.link.body='<%=cutStr(rs("bodycontent"),260,"...")%>',this.tplConfig.link.time='<%=rs("createtime")%>',this.tplConfig.link.time1='<%=format_Time(rs("createtime"),2)%>',this.tplConfig.link.end="<%rs.movenext:next:rs.close%>"))},_XIYUETA.prototype.myReplaceTplLabel=function(t,e){return null!=t&&"<a>abc</a>"==xiyueta(t).domlabel(2)},_XIYUETA.prototype.replaceTplLabel=function(t,e){var i;return null!=t&&(1==this.myReplaceTplLabel(t,e)||void(""==(i=xiyueta(t).domlabel(2))?"a"==xiyueta(t).getlabel()?(xiyueta(t).attr("href",e.url),null!=xiyueta(t).attr("title")&&xiyueta(t).attr("title",e.title),xiyueta(t).html(e.title)):(this.handleLabelBlock("img",xiyueta(t).find("img"),e),console.log("sDom(children)",i,t,xiyueta(t).htmlwrap())):"<a></a>"==i?this.handleLabelBlock("a",xiyueta(t).find("a"),e):"<a></a><span></span>"==i?(this.handleLabelBlock("a",xiyueta(t).find("a"),e),this.replaceTplTime(xiyueta(t).find("span"),e)):"<a><div></div><span></span></a>"==i?(this.handleLabelBlock("a",xiyueta(t).find("a"),e),this.handleLabelBlock("img",xiyueta(t).find("img"),e),this.handleLabelBlock("span",xiyueta(t).find("span"),e)):"<a><div></div></a>"==i||"<div></div>"==i?(this.handleLabelBlock("a",xiyueta(t).find("a"),e),this.handleLabelBlock("img",xiyueta(t).find("img"),e)):"<a><span></span></a>"==i?(this.handleLabelBlock("a",xiyueta(t).find("a"),e),this.handleLabelBlock("span",xiyueta(t).find("span"),e)):(console.log("sDom(root)",i),this.handleLabelBlock("a",xiyueta(t).find("a"),e))))},_XIYUETA.prototype.handleLabelBlock=function(t,e,i){if("a"==t){if(null!=e.attr("href")&&e.attr("href",i.url),null!=e.attr("title")&&e.attr("title",i.title),0==e.domList.length)return!1;var s=e.domList[0].y,r=e.text().trim(),l=e.children();0<(n=l.length)?(l=l.domList[0].x,""!=(l=this.htmlArr[l]).upHtml.trim()?l.upHtml=i.title:""!=(l=this.htmlArr[s]).upHtml.trim()&&(l.upHtml=i.title)):(e.end(),""!=r&&0==n&&e.html(i.title))}else{var n;"img"==t?(null!=e.attr("src")&&e.attr("src",i.image),null!=e.attr("alt")&&e.attr("alt",i.title)):"span"==t&&(r=e.text().trim(),n=e.children().length,e.end(),""!=r)&&0==n&&e.html(i.title)}},_XIYUETA.prototype.replaceTplTime=function(t,e){var i=xiyueta(t).text().trim(),s="",r="",l=!1,n=-1;""!=i&&("["==i.substr(0,1)&&(s="[",i=i.substr(1)),"]"==i.substr(i.length-1,1))&&(r="]",i=i.substr(0,i.length-1));new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/).test(i)&&(l=!0,n=2),l&&(i=e.time,i=s+(i=0<n?e.time1:i)+r,xiyueta(t).html(i))},_XIYUETA.prototype.replaceCnToEn=function(t){return t=(t+"").trim(),-1!="|关于我们|".indexOf(t="|"+t+"|")?"about us":-1!="|公司简介|".indexOf(t)?"company":-1!="|公司风采|".indexOf(t)?"company style":-1!="|公司荣誉|".indexOf(t)?"company honor":-1!="|公司致辞|".indexOf(t)?"company speech":-1!="|新闻展示|".indexOf(t)?"news":-1!="|新闻中心|".indexOf(t)?"news center":-1!="|公司新闻|".indexOf(t)?"company news":-1!="|行业新闻|".indexOf(t)?"industry news":-1!="|通知公告|".indexOf(t)?"announcement":-1!="|产品中心|".indexOf(t)?"product center":-1!="|产品展示|".indexOf(t)?"product":-1!="|联系我们|".indexOf(t)?"contact us":-1!="|新闻资讯|".indexOf(t)?"news and information":-1!="|案例展示|".indexOf(t)?"case presentation":-1!="|网站首页|首页|".indexOf(t)?"home":""},xiyueta.replaceCnToEn=function(t){return _xyt.replaceCnToEn(t)},xiyueta.tplconfig=function(t){return _xyt.setTplConfig(t)},xiyueta.findNav=function(){var e="";return xiyueta("a").each(function(){var t;if(-1<xiyueta(this).text().trim().indexOf("首页"))return 0<xiyueta(this).parent().children().findWithItem(4).length?console.log("相连","<a href=>首页</a><a href=>新闻</a>"):0<xiyueta(this).parent().parent().children().findWithItem(4).length&&(console.log("上一级","<li><a></a></li>"),t=xiyueta(this).parent().parent().parent().domList[0],e+="xiyueta({x:"+t.x+",y:"+t.y+"}).cutlabel()\n",console.log("xiyueta({x:"+t.x+",y:"+t.y+"}).cutlabel()")),!1}),e},xiyueta.autoFindTpl=function(t,e,i){var s,r,l,n,a=!1,o=!1,h=xiyueta.tplconfig().minrow,u=(null!=t&&(null!=t.isnav&&(a=t.isnav),null!=t.issubnav&&(o=t.issubnav),null!=t.minrow)&&(h=t.minrow),"number"!=typeof e&&(e=6),"");return"object"!=this.toType(i)?(s=xiyueta("body").getlv(),u+=r=null!=s?"body :lv("+(s+1)+")":":lv(1)",0<xiyueta(r).findWithItem(h).length?(n=((n=xiyueta(r).findWithItem(h).find("a").text())+"").toLocaleLowerCase(),""!=u&&(u+=" "),l=xiyueta(r).findWithItem(h).getlabel(),-1<n.indexOf("首页")||-1<n.indexOf("home")||1==a?1==o?(xiyueta(r).findWithItem(h).subnav(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(xiyueta(r),">"+l)+".subnav()",x:xiyueta(r).x,y:xiyueta(r).y})):(xiyueta(r).findWithItem(h).nav(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(xiyueta(r),">"+l)+".nav()",x:xiyueta(r).x,y:xiyueta(r).y})):(xiyueta(r).findWithItem(h).news(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(xiyueta(r),">"+l)+".nav()",x:xiyueta(r).x,y:xiyueta(r).y}))):0<e&&xiyueta(r).each(function(){u=xiyueta.autoFindTpl(t,--e,this,r)})):0<xiyueta(i).children().findWithItem(h).length?(""!=u&&(u+=" "),l=xiyueta(i).children().findWithItem(h).getlabel(),u+=l,-1<(n=((n=xiyueta(i).children().findWithItem(h).find("a").text())+"").toLocaleLowerCase()).indexOf("首页")||-1<n.indexOf("home")||1==a?1==o?(xiyueta(i).children().findWithItem(h).subnav(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(i,">"+l)+".subnav()",x:i.x,y:i.y})):(xiyueta(i).children().findWithItem(h).nav(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(i,">"+l)+".nav()",x:i.x,y:i.y})):(xiyueta(i).children().findWithItem(h).news(),xiyueta.autoFindObjArr.push({s:this.findObjOnly(i,">"+l)+".news()",x:i.x,y:i.y}))):0<e&&xiyueta(i).children().each(function(){u=xiyueta.autoFindTpl(t,--e,this,r)}),u},xiyueta.findObjOnly=function(t,e){if("object"!=this.toType(t))return"";var i="",s=xiyueta(t).getlabel(),r=xiyueta(t).attr("id");if(null!=r){if(1==xiyueta(s+(l="[id='"+r+"']")).length)return'xiyueta("'+s+l+e+'")';i+=l}var l,r=xiyueta(t).attr("class");if(null!=r){if(1==xiyueta(s+(l="[class='"+r+"']")).length)return'xiyueta("'+s+l+e+'")';i+=l}return 1==xiyueta(s+i).length?'xiyueta("'+s+i+e+'")':'xiyueta("'+s+e+'",'+t.x+","+t.y+")"},xiyueta.fn.extend({findWithItem:function(t,e){for(var i,s,r,l,n="|div|span|ul|li|tr|a|",a=_xyt.tplConfig.minrow,o=(1==arguments.length?"string"==typeof t?n="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|":"number"==typeof t&&(a=t):2==arguments.length&&("string"==typeof t&&(n="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|"),"number"==typeof e)&&(a=e),[]),h=0;h<this.domList.length;h++)(u=this.domList[h]).x!=u.y&&(s=xiyueta(u).getlabel(),-1!=n.indexOf("|"+s+"|"))&&(r=xiyueta(u).domlabel(2),null==i?(i=r,o.push({count:1,label:s,domList:[u]})):i==r?(o[o.length-1].count++,o[o.length-1].domList.push(u)):(o.push({count:1,label:s,domList:[u]}),i=r));for(h=0;h<o.length;h++){var u=o[h];(null==l||u.count>l.count)&&(l=u)}return this.domList=[],this.length=0,null==l||l.domList.length<a||(this.domList=l.domList,this.length=this.domList.length),this},news:function(t){return this.nav(t,"news")},list:function(t){return this.nav(t,"list")},link:function(t){return this.nav(t,"link")},page:function(t){if(0<this.domList.length){for(var e="单页默认标题",i=("object"==typeof t&&null!=t.did&&(e=t.did),""),s=0;s<this.domList.length;s++){var r=this.domList[s],l=(xiyueta(r).find("!--").remove(),xiyueta(r).html()),n=l.replace(/ /g,"").replace(/\t/g,""),n='<%=getOnePageBody("'+e+'","'+(l=""==i||i!=n?(i=n,(l=l.replace(/"/g,'""').replace(/\r\n/g,'"& vbCrlf &"')).replace(/\r/g,'"& vbCrlf &"').replace(/\n/g,'"& vbCrlf &"')):"")+'")%>';xiyueta(r).html(n)}return!0}return!1},foot:function(t){if(0<this.domList.length){for(var e="",i=0;i<this.domList.length;i++){var s=this.domList[i],r=(xiyueta(s).find("!--").remove(),xiyueta(s).html()),l=r.replace(/ /g,"").replace(/\t/g,""),l='<%=getWebFoot("'+(r=""==e||e!=l?(e=l,(r=r.replace(/"/g,'""').replace(/\r\n/g,'"& vbCrlf &"')).replace(/\r/g,'"& vbCrlf &"').replace(/\n/g,'"& vbCrlf &"')):"")+'")%>';xiyueta(s).html(l)}return!0}return!1},webqrcode:function(t){if(0<this.domList.length){for(var e=0;e<this.domList.length;e++){var i=this.domList[e],s='<%=getWebQrcode("'+xiyueta(i).attr("src")+'")%>';xiyueta(i).attr("src",s)}return!0}return!1},navahref:function(t){var e="联系我们";if("object"==typeof t&&null!=t.did&&(e=t.did),0<this.domList.length){for(var i=0;i<this.domList.length;i++){var s=this.domList[i];xiyueta(s).attr("href",'<%=getNavUrl(getNavNameToID("","'+e+'"),"") %>')}return!0}return!1},webcopyright:function(t){if(0<this.domList.length){for(var e=0;e<this.domList.length;e++){var i=this.domList[e];xiyueta(i).html("<%=webcopyright%>")}return!0}return!1},subnav:function(t){return this.nav(t,"subnav")},nav:function(h,u){var t,e,i,s,r,l,n="产品中心",a="top",f=("object"==typeof h?(xiyueta.tplconfig(h),null!=h.row&&(l=h.row),null!=h.did&&(n=h.did),null!=h.navtype&&(a=h.navtype)):null==xiyueta.tplconfig().webTitle&&xiyueta.tplconfig([]),"news"==u?r=(t=xiyueta.tplconfig().news).for:"link"==u?r=(t=xiyueta.tplconfig().link).for:"list"==u?r=(t=xiyueta.tplconfig().list).for:"subnav"==u&&"xiyuetacms"==xiyueta.tplconfig().type?r=(t=xiyueta.tplconfig().subnav).for:(r=(t=xiyueta.tplconfig().nav).for,"object"==typeof h&&null!=h.did&&(r=t.for2)),{obj:void 0,html:"",count:0}),c={obj:void 0,html:"",count:0},m={obj:void 0,css:"",count:0},d={obj:void 0,css:"",count:0},p=0,g="",o=(this.each(function(t,e){var i,s,r,l,n=xiyueta(this).domlabelwrap(2),a=xiyueta(this).attr("class"),o=!1;""!=u&&null!=u&&"nav"!=u||(i=xiyueta.autoFindObjArr,xiyueta.autoFindObjArr=[],minrow=xiyueta.tplconfig().minrow,"object"==typeof h?((l=h).isnav=!0,l.issubnav=!0,l.minrow=2):l={isnav:!0,issubnav:!0,minrow:2},xiyueta.autoFindTpl(l,6,e),1==xiyueta.autoFindObjArr.length&&(s=xiyueta.autoFindObjArr[0].x,r=xiyueta.autoFindObjArr[0].y,l=xiyueta("*",s,r).domlabelwrap(2),n=(n=xiyueta(this).domlabelwrap(2)).replace(l,""),o=!0,g=xiyueta("*",s,r).htmlwrap()),xiyueta.autoFindObjArr=i,xiyueta.tplconfig({isnav:!1,issubnav:!1,minrow:minrow})),null==f.obj?(f.obj=this,f.html=n,f.count=1,s=this.x):f.html==n?(f.count++,1==o&&(f=this)):null==c.obj?(c.obj=this,c.html=n,c.count=1):c.html==n?(c.count++,1==o&&(c=this)):(console.log("itemA.html",f.html),console.log("itemB.html",c.html),console.log("html",n),console.log("NO Html为空"," xiyueta('nav').children('li').nav()  请用这种方法",n),alert(" NO html(可能是子导航列表与主导航列表一样，搜索带上.children('li')方法)="+n)),r=this.y,p++,null==a&&(a=""),null==m.obj?(m.obj=this,m.css=a,m.count=1):m.css==a?m.count++:null==d.obj?(d.obj=this,d.css=a,d.count=1):d.css==a&&d.count++}),null==c.obj?e=f.obj:i=(f.count>c.count?(e=f.obj,c):(e=c.obj,f)).obj,_xyt.replaceTplLabel(e,t),null==l&&(l=p),r.replace("{%row%}",l).replace("{%did%}",n).replace("{%navtype%}",a));return null!=i?(_xyt.replaceTplLabel(i,t),o+=t.focus+xiyueta(i).append(g).htmlwrap()+"\n<%else%>\n"+xiyueta(e).append(g).htmlwrap()+"\n<%end if%>"):((""!=m.css||""!=d.css)&&m.css!=d.css&&0<d.count&&(r=(m.count<d.count?(s=m.css,d):(s=d.css,m)).css,l=t.focus2.replace("{%focus%}",s).replace("{%default%}",r),xiyueta(e).attr("class",l),console.log("cssA,cssB",m,d,m.count,d.count)),o+=xiyueta(e).append(g).htmlwrap()),o+="\n"+t.end,this.each(function(t,e){0==t?xiyueta(this).htmlwrap(o):xiyueta(this).remove(!0)}),o},webtpl:function(t,e){var i,s;if(xiyueta.autoFindObjArr=[],1==arguments.length?"object"==typeof t?i=t:"number"==typeof t&&(s=t):2==arguments.length&&("object"==typeof t&&(i=t),"number"==typeof e)&&(s=e),xiyueta.tplconfig(i),0==this.domList.length)xiyueta.autoFindTpl(i,s,"");else for(var r=0;r<this.domList.length;r++){var l=this.domList[r];l.x,l.y;xiyueta.tplconfig(i),xiyueta.autoFindTpl(i,s,l)}return xiyueta.autoFindObjArr}});

module.exports = $
